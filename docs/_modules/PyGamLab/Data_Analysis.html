<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" />

    <link rel="shortcut icon" href="https://raw.githubusercontent.com/APMaii/pygamlab/refs/heads/main/pics/pygamlab_logo.png"/><!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>PyGamLab.Data_Analysis - PyGamLab 0.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --font_stack: Segoe UI, Tahoma, Arial, sans-serif;
  --color-brand-primary: #005F6A;
  --color-brand-content: #F2F7F9;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">PyGamLab 0.1.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="https://raw.githubusercontent.com/APMaii/pygamlab/refs/heads/main/pics/pygamlab_logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">PyGamLab 0.1.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">🔰 Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart.html">Quickstart</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tutorial.html">Tutorial</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Tutorial</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Intro_on_PyGamLab.html">In The Name of GOD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Intro_on_PyGamLab.html#Introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Intro_on_PyGamLab.html#📦-Modules">📦 Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Intro_on_PyGamLab.html#📦-Requirements">📦 Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Intro_on_PyGamLab.html#How-to-install-🚀">How to install 🚀</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Intro_on_PyGamLab.html#How-to-Import">How to Import</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Intro_on_PyGamLab.html#Constants.py">Constants.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Intro_on_PyGamLab.html#Convertors.py">Convertors.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Intro_on_PyGamLab.html#Functions.py">Functions.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Intro_on_PyGamLab.html#Data-Analysis">Data Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Intro_on_PyGamLab.html#Development-in-Version.2">Development in Version.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Intro_on_PyGamLab.html#Further-Information">Further Information</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">🔢 Core Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../constants.html">PyGamLab.Constants Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../convertors.html">PyGamLab.Convertors Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../functions.html">PyGamLab.Functions Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_analysis.html">PyGamLab.Data_Analysis Module</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">📚 API Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../modules.html">PyGamLab</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of PyGamLab</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../PyGamLab.html">PyGamLab package</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">🛠️ Developer Info</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing to PyGamLab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">MIT License</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <h1>Source code for PyGamLab.Data_Analysis</h1><div class="highlight"><pre>
<span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Data_Analysis.py :</span>









<span class="sd">&#39;&#39;&#39;</span>

<span class="c1">#&quot; IN GOD WE TRUST, ALL OTHERS MUST BRING DATA&quot;</span>
<span class="c1">#                                               -W. Edwards Deming</span>
<span class="c1">#------------------------------------------------------------------------------</span>
<span class="c1"># Copyright 2023 The Gamlab Authors. All Rights Reserved.</span>
<span class="c1"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c1"># you may not use this file except in compliance with the License.</span>
<span class="c1"># You may obtain a copy of the License at</span>
<span class="c1">#     http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1"># Unless required by applicable law or agreed to in writing, software</span>
<span class="c1"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1"># See the License for the specific language governing permissions and</span>
<span class="c1"># limitations under the License.</span>
<span class="c1">#------------------------------------------------------------------------------</span>
<span class="sd">&#39;&#39;&#39; </span>
<span class="sd">The Scientific experimental simulation library </span>
<span class="sd">-------------------------------------------------------------------------------</span>
<span class="sd">Graphen &amp; Advanced Material Laboratory </span>

<span class="sd">it aimes to provide new scientist to use data,simlation, prepared data </span>
<span class="sd">and Artificial intelligence models.</span>

<span class="sd">See http://gamlab.aut.ac.ir for complete documentation.</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="vm">__doc__</span><span class="o">=</span><span class="s1">&#39;&#39;&#39;</span>

<span class="s1">@author: Ali Pilehvar Meibody (Alipilehvar1999@gmail.com)</span>

<span class="s1">                                         888                    888</span>
<span class="s1"> .d8888b    .d88b.     88888b.d88b.      888         .d88b.     888</span>
<span class="s1">d88P&quot;      d88&quot;&quot;88b    888 &quot;888 &quot;88b     888        d88&quot;&quot;88b    88888PP</span>
<span class="s1">888  8888  888  888    888  888  888     888        888  888    888  888</span>
<span class="s1">Y88b.  88  Y88..88PP.  888  888  888     888......  Y88..88PP.  888  888</span>
<span class="s1"> &quot;Y8888P8   &quot;Y88P8888  888  888  888     888888888   &quot;Y88P8888  88888888  </span>


<span class="s1">@Director of Gamlab: Professor M. Naderi (Mnaderi@aut.ac.ir)    </span>

<span class="s1">@Graphene Advanced Material Laboratory: https://www.GamLab.Aut.ac.ir</span>


<span class="s1">@Co-authors: </span>
<span class="s1">&#39;&#39;&#39;</span>


<span class="c1">#import-----------------------------------------</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">statistics</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="c1">#import matplotlib as plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.linear_model</span><span class="w"> </span><span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib.ticker</span><span class="w"> </span><span class="kn">import</span> <span class="n">AutoMinorLocator</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span> 
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy</span><span class="w"> </span><span class="kn">import</span> <span class="n">stats</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.signal</span><span class="w"> </span><span class="kn">import</span> <span class="n">find_peaks</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.integrate</span><span class="w"> </span><span class="kn">import</span> <span class="n">solve_bvp</span>



<div class="viewcode-block" id="Tensile_Analysis">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Tensile_Analysis">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Tensile_Analysis</span><span class="p">(</span><span class="n">dataframe</span><span class="p">,</span> <span class="n">gauge_length</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">thickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                           <span class="n">application</span><span class="o">=</span><span class="s1">&#39;plot-force&#39;</span><span class="p">,</span> <span class="n">save</span><span class="o">=</span><span class="kc">False</span><span class="p">,):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parameters:</span>
<span class="sd">    - dataframe: raw data from Excel (Force vs Displacement)</span>
<span class="sd">    - gauge_length: Initial length of the sample in mm</span>
<span class="sd">    - width: Width of the sample in mm</span>
<span class="sd">    - thickness: Thickness of the sample in mm</span>
<span class="sd">    - application: &#39;plot-force&#39; or &#39;plot-stress&#39;</span>
<span class="sd">    - save: True to save the plot</span>
<span class="sd">    - show_peaks: True to annotate peaks (e.g. UTS)</span>
<span class="sd">    - fname: Filename to save if save=True</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dataframe</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="s1">&#39;1 _ 1&#39;</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">dataframe</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="s1">&#39;Unnamed: 3&#39;</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">dataframe</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">dataframe</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">dataframe</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


    <span class="n">d2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">dataframe</span><span class="p">)</span>
    <span class="n">d2</span><span class="o">=</span><span class="n">d2</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
    
    <span class="n">force</span> <span class="o">=</span> <span class="n">d2</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>       <span class="c1"># in N</span>
    <span class="n">displacement</span> <span class="o">=</span> <span class="n">d2</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>  <span class="c1"># in mm</span>

    <span class="c1"># Cross-sectional Area (mm²)</span>
    <span class="n">area</span> <span class="o">=</span> <span class="n">width</span> <span class="o">*</span> <span class="n">thickness</span>

    <span class="c1"># Compute strain and stress</span>
    <span class="n">strain</span> <span class="o">=</span> <span class="n">displacement</span> <span class="o">/</span> <span class="nb">int</span><span class="p">(</span><span class="n">gauge_length</span><span class="p">)</span>
    <span class="n">stress</span> <span class="o">=</span> <span class="n">force</span> <span class="o">/</span> <span class="nb">int</span><span class="p">(</span><span class="n">area</span><span class="p">)</span>  <span class="c1"># in MPa</span>

    <span class="c1"># Plotting</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;figure.dpi&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">600</span>

    <span class="k">if</span> <span class="n">application</span> <span class="o">==</span> <span class="s1">&#39;plot-force&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">displacement</span><span class="p">,</span> <span class="n">force</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Force vs Displacement&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Displacement (mm)&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Force (N)&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Tensile Test - Force vs Displacement&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">save</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
        
            <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;stress_strain&#39;</span><span class="p">,</span><span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;eps&#39;</span><span class="p">)</span>
        
        
    <span class="k">elif</span> <span class="n">application</span> <span class="o">==</span> <span class="s1">&#39;plot-stress&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">strain</span><span class="p">,</span> <span class="n">stress</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Stress vs Strain&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Strain&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Stress (MPa)&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Tensile Test - Stress vs Strain&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">save</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
        
            <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;stress_strain&#39;</span><span class="p">,</span><span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;eps&#39;</span><span class="p">)</span>


    <span class="k">elif</span> <span class="n">application</span> <span class="o">==</span> <span class="s1">&#39;UTS&#39;</span> <span class="p">:</span>
        <span class="n">uts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">stress</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ultimate Tensile Strength (UTS): </span><span class="si">{</span><span class="n">uts</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MPa&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">uts</span>
        
    <span class="k">elif</span> <span class="n">application</span> <span class="o">==</span> <span class="s1">&#39;Young Modulus&#39;</span><span class="p">:</span>
        <span class="n">linear_region</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">strain</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">)</span>
        <span class="n">E</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">strain</span><span class="p">[:</span><span class="n">linear_region</span><span class="p">],</span> <span class="n">stress</span><span class="p">[:</span><span class="n">linear_region</span><span class="p">],</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Young’s Modulus (E): </span><span class="si">{</span><span class="n">E</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MPa&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">E</span>

        
    <span class="k">elif</span> <span class="n">application</span> <span class="o">==</span> <span class="s1">&#39;Fracture Stress&#39;</span><span class="p">:</span>
        
        <span class="n">stress_at_break</span> <span class="o">=</span> <span class="n">stress</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fracture Stress: </span><span class="si">{</span><span class="n">stress_at_break</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MPa&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">stress_at_break</span>
        
    <span class="k">elif</span> <span class="n">application</span> <span class="o">==</span> <span class="s1">&#39;Strain at break&#39;</span><span class="p">:</span>
       
        <span class="n">strain_at_break</span> <span class="o">=</span> <span class="n">strain</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Strain at Break: </span><span class="si">{</span><span class="n">strain_at_break</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">strain_at_break</span></div>

    
    
    
    
<div class="viewcode-block" id="FTIR">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.FTIR">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">FTIR</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span><span class="n">application</span><span class="p">,</span><span class="n">prominence</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">distance</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">save</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    
    <span class="n">xx</span><span class="o">=</span><span class="p">[]</span>
    <span class="n">yy</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">data1</span><span class="p">)):</span>
        <span class="n">b</span><span class="o">=</span><span class="n">data1</span><span class="p">[</span><span class="s1">&#39;X</span><span class="se">\t</span><span class="s1">Y&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">xx</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="n">yy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        
        
    <span class="k">if</span> <span class="n">application</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
    
        <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>  <span class="c1"># Set the figure size (width: 10 inches, height: 6 inches)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;figure.dpi&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">600</span> 
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span><span class="n">yy</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;FTIR Result&#39;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Wavenumber (cm-1)&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Transmitance(a.u.&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">4000</span><span class="p">,</span><span class="mi">400</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">28</span><span class="p">,</span><span class="mi">40</span><span class="p">)</span>
        <span class="c1">#plt.invert_xaxis()</span>
        <span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span><span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span><span class="n">direction</span><span class="o">=</span><span class="s1">&#39;in&#39;</span><span class="p">,</span><span class="n">bottom</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">top</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">left</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">right</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">save</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;ftir&#39;</span><span class="p">,</span><span class="n">dpi</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;eps&#39;</span><span class="p">)</span>
    
    <span class="k">elif</span> <span class="n">application</span><span class="o">==</span><span class="s1">&#39;peak&#39;</span><span class="p">:</span>
        <span class="n">peaks</span><span class="p">,</span> <span class="n">properties</span> <span class="o">=</span> <span class="n">find_peaks</span><span class="p">(</span><span class="n">yy</span><span class="p">,</span> <span class="n">prominence</span><span class="o">=</span><span class="n">prominence</span><span class="p">,</span> <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">peaks</span><span class="p">,</span> <span class="n">properties</span></div>

        
    
    
    
<div class="viewcode-block" id="XRD_ZnO">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.XRD_ZnO">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">XRD_ZnO</span><span class="p">(</span><span class="n">XRD</span><span class="p">,</span><span class="n">application</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    </span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    XRD : DataFrame</span>
<span class="sd">        Data containing XRD data.</span>
<span class="sd">    application : str</span>
<span class="sd">        Type of application &#39;plot&#39;,&#39;FWHM&#39;,&#39;Scherrer&#39;.</span>
<span class="sd">        plot:To draw the figure.</span>
<span class="sd">        FWHM:Width at Half Maximum.</span>
<span class="sd">        Scherrer:To calculate the crystallite size.</span>

<span class="sd">    Returns</span>
<span class="sd">    FWHM,Scherrer</span>
<span class="sd">    -------</span>
<span class="sd">    None.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">Angles</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">XRD</span><span class="p">[</span><span class="s1">&#39;Angle&#39;</span><span class="p">])</span>
    <span class="n">Intensities</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">XRD</span><span class="p">[</span><span class="s1">&#39;Det1Disc1&#39;</span><span class="p">])</span>
    <span class="k">if</span>  <span class="n">application</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Angles</span><span class="p">,</span><span class="n">Intensities</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;XRD Pattern&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;2theta (degrees)&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Intensity&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">application</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;FWHM&#39;</span><span class="p">,</span> <span class="s1">&#39;Scherrer&#39;</span><span class="p">]:</span>
        <span class="n">max_intensity</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">Intensities</span><span class="p">)</span>
        <span class="n">half_max</span> <span class="o">=</span> <span class="n">max_intensity</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">half_max</span> <span class="o">=</span> <span class="n">max_intensity</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Intensities</span><span class="p">)):</span>
           <span class="k">if</span> <span class="n">Intensities</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">half_max</span><span class="p">:</span>
               <span class="n">indices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

        
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">left_index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span>
            <span class="n">right_index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span>
       
    
            <span class="n">FWHM</span> <span class="o">=</span> <span class="n">Angles</span><span class="p">[</span><span class="n">right_index</span><span class="p">]</span> <span class="o">-</span> <span class="n">Angles</span><span class="p">[</span><span class="n">left_index</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">application</span> <span class="o">==</span> <span class="s1">&#39;FWHM&#39;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">FWHM</span>
           
            <span class="k">elif</span> <span class="n">application</span> <span class="o">==</span><span class="s1">&#39;Scherrer&#39;</span><span class="p">:</span>
                <span class="n">mean_2theta</span> <span class="o">=</span> <span class="n">Angles</span><span class="p">[</span><span class="n">indices</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>


                <span class="n">theta</span> <span class="o">=</span> <span class="n">mean_2theta</span> <span class="o">/</span> <span class="mi">2</span>
                <span class="n">FWHM_rad</span> <span class="o">=</span> <span class="p">((</span><span class="mf">3.14</span><span class="o">/</span><span class="mi">180</span><span class="p">)</span><span class="o">*</span><span class="n">FWHM</span><span class="p">)</span>
                <span class="n">theta_rad</span> <span class="o">=</span> <span class="p">((</span><span class="mf">3.14</span><span class="o">/</span><span class="mi">180</span><span class="p">)</span><span class="o">*</span><span class="n">theta</span><span class="p">)</span>  
                <span class="n">crystal_size</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.9</span> <span class="o">*</span> <span class="mf">1.5406</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">FWHM_rad</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta_rad</span><span class="p">))</span>
                
                <span class="k">return</span> <span class="n">crystal_size</span></div>



    
    
<div class="viewcode-block" id="pressure_volume_ideal_gases">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.pressure_volume_ideal_gases">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">pressure_volume_ideal_gases</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="n">which</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    By using this function, the relationship between pressure and volume </span>
<span class="sd">    of ideal gases in thermodynamic will be shown.</span>
<span class="sd">    </span>
<span class="sd">    input_file : .csv format</span>
<span class="sd">        *the file must be inserted in csv.</span>
<span class="sd">        </span>
<span class="sd">    whhch: str</span>
<span class="sd">        what do you want this function to do?</span>
<span class="sd">        </span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">mydf</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="n">pressure</span><span class="o">=</span><span class="n">mydf</span><span class="p">[</span><span class="s1">&#39;pressure&#39;</span><span class="p">]</span>
        <span class="n">volume</span><span class="o">=</span><span class="n">mydf</span><span class="p">[</span><span class="s1">&#39;volume&#39;</span><span class="p">]</span>
        
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span><span class="n">pressure</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;volume_pressure_chart&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;pressure&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;volume&#39;</span><span class="p">)</span>
        <span class="n">font_title</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;serif&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">18</span><span class="p">}</span>
        <span class="n">font_label</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;serif&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">12</span><span class="p">}</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

        
    <span class="k">elif</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;min pressure&#39;</span><span class="p">:</span>
        <span class="n">min_pressure</span><span class="o">=</span><span class="n">mydf</span><span class="p">[</span><span class="s1">&#39;pressure&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">min_pressure</span>
    
    <span class="k">elif</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;max pressure&#39;</span><span class="p">:</span>
        <span class="n">max_pressure</span><span class="o">=</span><span class="n">mydf</span><span class="p">[</span><span class="s1">&#39;pressure&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">max_pressure</span>
    
    <span class="k">elif</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;min volume&#39;</span><span class="p">:</span>
        <span class="n">min_volume</span><span class="o">=</span><span class="n">mydf</span><span class="p">[</span><span class="s1">&#39;volume&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">min_volume</span>
    
    <span class="k">elif</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;max volume&#39;</span><span class="p">:</span>
         <span class="n">max_volume</span><span class="o">=</span><span class="n">mydf</span><span class="p">[</span><span class="s1">&#39;volume&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
         <span class="k">return</span> <span class="n">max_volume</span>
    
    <span class="k">elif</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;average pressure&#39;</span><span class="p">:</span>
         <span class="n">average_pressure</span><span class="o">=</span><span class="n">statistics</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">pressure</span><span class="p">)</span>
         <span class="k">return</span> <span class="n">average_pressure</span>
        
    <span class="k">elif</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;average volume&#39;</span><span class="p">:</span>
         <span class="n">average_volume</span><span class="o">=</span><span class="n">statistics</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
         <span class="k">return</span> <span class="n">average_volume</span>
            
    <span class="k">elif</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;temperature&#39;</span><span class="p">:</span>
        <span class="n">n</span><span class="o">=</span><span class="mi">1</span>
        <span class="n">R</span><span class="o">=</span><span class="mf">0.821</span>
        <span class="n">temperature</span><span class="o">=</span><span class="p">(</span><span class="n">pressure</span><span class="o">*</span><span class="n">volume</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">n</span><span class="o">*</span><span class="n">R</span><span class="p">)</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        This formula is from &#39;Introduction To The thermodinamics Of Materials</span>
<span class="sd">        David R. Gaskell&#39;</span>
<span class="sd">        </span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">temperature</span>
    
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;No answer found&#39;</span><span class="p">)</span></div>

    
    
    
    
    
<div class="viewcode-block" id="Energie">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Energie">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Energie</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span><span class="n">which</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This is a function to drawing a plot or to calculating </span>
<span class="sd">    the amount of Energie of a Motor to (open/close) a Valve in a cycle, which takes 2.7 secound to open and to close.</span>
<span class="sd">    </span>
<span class="sd">    ----------</span>
<span class="sd">    input_file : .xlsx format</span>
<span class="sd">        the file must be inserted in xlsx.</span>
<span class="sd">    which : int</span>
<span class="sd">        draw : Drawing a Plot</span>
<span class="sd">        calculate : Calculate the Consupmtion Energie in [mWs]</span>
<span class="sd">        please say which work we do ( 1 or 2).</span>

<span class="sd">    &#39;&#39;&#39;</span>
        
    <span class="n">mydf</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>
    
    
    <span class="k">if</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;draw&#39;</span><span class="p">:</span>
        <span class="c1">#get the data on each columns</span>
        
        <span class="n">A</span><span class="o">=</span><span class="n">mydf</span><span class="p">[</span><span class="s1">&#39;Angle[°]&#39;</span><span class="p">]</span>
        
        <span class="n">Energie</span> <span class="o">=</span><span class="n">mydf</span><span class="p">[</span><span class="s1">&#39;Energie&#39;</span><span class="p">]</span>
       
        <span class="c1">#plotting data</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">Energie</span><span class="p">,</span><span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;green&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Energie of OTT Motor 185000 Cycle&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Angle[°]&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Consupmtion Energie&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
    
    <span class="k">if</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;calculate&#39;</span><span class="p">:</span>
        <span class="n">mydf</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">mydf</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Angle[°]&#39;</span><span class="p">,</span><span class="s1">&#39;Power[mW]&#39;</span><span class="p">,</span><span class="s1">&#39;Time for a Cycle&#39;</span><span class="p">,</span><span class="s1">&#39;Energie&#39;</span><span class="p">])</span>
        
        <span class="n">summ</span> <span class="o">=</span> <span class="n">mydf</span><span class="p">[</span><span class="s1">&#39;Energie&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>                          <span class="c1"># The amount of Energie for a half Cycle of Duty in mWs</span>
       
        <span class="n">summ</span> <span class="o">=</span><span class="p">(</span> <span class="n">summ</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>                                <span class="c1"># The amount of Consumption Energie for a Dutycycle in Ws</span>
        
        <span class="k">return</span> <span class="n">summ</span></div>

        







<div class="viewcode-block" id="Stress_Strain1">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Stress_Strain1">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Stress_Strain1</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="n">operation</span><span class="p">,</span><span class="n">L0</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span><span class="n">D0</span><span class="o">=</span><span class="mi">9</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    </span>
<span class="sd">    </span>
<span class="sd">    This function gets data and an operation .</span>
<span class="sd">    It plots Stress-Strain curve if the oepration is plot </span>
<span class="sd">    and finds the UTS value (which is the ultimate tensile strength) otherwise.</span>
<span class="sd">    ------------------------------</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    df : DataFrame</span>
<span class="sd">       It has 2 columns: DL(which is length in mm) &amp; F (which is the force in N).</span>
<span class="sd">    operation :</span>
<span class="sd">       It tells the function to whether PLOT the curve or find the UTS valu. </span>
<span class="sd">       </span>
<span class="sd">     L0: initial length of the sample</span>
<span class="sd">     D0: initial diameter of the sample</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    The Stress-Strain curve or the amount of UTS</span>
<span class="sd">    </span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">A0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="n">D0</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;DL&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">L0</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;S&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;F&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">A0</span>
    <span class="k">if</span> <span class="n">operation</span> <span class="o">==</span> <span class="s1">&#39;PLOT&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;S&#39;</span><span class="p">])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;S&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;S vs e Plot&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">operation</span> <span class="o">==</span> <span class="s1">&#39;UTS&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;S&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Please enter proper operation&quot;</span><span class="p">)</span>
        <span class="k">return</span></div>








<div class="viewcode-block" id="Stress_Strain2">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Stress_Strain2">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Stress_Strain2</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span><span class="n">which</span><span class="p">,</span><span class="n">count</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function claculates the stress and strain</span>
<span class="sd">    Parameters from load and elongation data</span>
<span class="sd">    ----------</span>
<span class="sd">    input_file : .csv format</span>
<span class="sd">        the file must be inserted in csv.</span>
<span class="sd">    whcih : str</span>
<span class="sd">        please say which work we do ( plot or calculate?).</span>
<span class="sd">    count: int</span>
<span class="sd">        please enter the yarn count in Tex</span>
<span class="sd">    remember: gauge length has been set in 250 mm</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="c1">#convert the file</span>
    <span class="n">mydf</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
       
        <span class="n">stress</span><span class="o">=</span><span class="n">mydf</span><span class="p">[</span><span class="s1">&#39;Load&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">count</span>
        <span class="n">strain</span><span class="o">=</span><span class="n">mydf</span><span class="p">[</span><span class="s1">&#39;Extension&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">250</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">stress</span><span class="p">,</span><span class="n">strain</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;stress-strain curve&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;stress&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;strain&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
    
    <span class="k">if</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;max stress&#39;</span><span class="p">:</span>
        <span class="n">stress_max</span><span class="o">=</span><span class="n">mydf</span><span class="p">[</span><span class="s1">&#39;stress&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">stress_max</span>

    <span class="k">if</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;max strain&#39;</span><span class="p">:</span>
        <span class="n">strain_max</span><span class="o">=</span><span class="n">mydf</span><span class="p">[</span><span class="s1">&#39;strain&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">strain_max</span></div>

    
    
<div class="viewcode-block" id="Stress_Strain3">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Stress_Strain3">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Stress_Strain3</span><span class="p">(</span><span class="n">input_data</span><span class="p">,</span> <span class="n">action</span><span class="p">):</span>
    <span class="n">stress</span> <span class="o">=</span> <span class="n">input_data</span><span class="p">[</span><span class="s1">&#39;Stress (MPa)&#39;</span><span class="p">]</span>
    <span class="n">strain</span> <span class="o">=</span> <span class="n">input_data</span><span class="p">[</span><span class="s1">&#39;Strain (%)&#39;</span><span class="p">]</span>
    
    <span class="k">if</span> <span class="n">action</span> <span class="o">==</span> <span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="c1"># Plotting data</span>
        <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">strain</span><span class="p">,</span> <span class="n">stress</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;royalblue&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Stress-Strain Curve&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Stress-Strain Curve&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Strain (%)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Stress (MPa)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">strain</span><span class="o">.</span><span class="n">max</span><span class="p">()])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">stress</span><span class="o">.</span><span class="n">max</span><span class="p">()])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
   
    <span class="k">elif</span> <span class="n">action</span> <span class="o">==</span> <span class="s1">&#39;max stress&#39;</span><span class="p">:</span>
        <span class="c1"># Calculation of the maximum stress</span>
        <span class="n">stress_max</span> <span class="o">=</span> <span class="n">stress</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">stress_max</span>
    
    <span class="k">elif</span> <span class="n">action</span> <span class="o">==</span> <span class="s1">&#39;young modulus&#39;</span><span class="p">:</span>
        <span class="c1"># Calculation of Young&#39;s Modulus</span>
        <span class="n">slope_intercept</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">strain</span><span class="p">,</span> <span class="n">stress</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">slope_intercept</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="Stress_Strain4">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Stress_Strain4">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Stress_Strain4</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">D0</span><span class="p">,</span> <span class="n">L0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function uses the data file</span>
<span class="sd">    that contains length and force, calculates the engineering, true</span>
<span class="sd">    and yielding stress and strain and also draws a graph of these.</span>
<span class="sd">    </span>
<span class="sd">    Parameters:</span>
<span class="sd">    D0(mm): First Qatar to calculate stress</span>
<span class="sd">    L0(mm): First Length to canculate strain</span>
<span class="sd">    F(N): The force applied to the object during this test</span>
<span class="sd">    DL(mm): Length changes</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">    Depending on the operation selected,</span>
<span class="sd">    it returns calculated values, plots,</span>
<span class="sd">    advanced analysis, or saves results.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;File not found. Please check the file path.&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">A0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="p">(</span><span class="n">D0</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>

    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;stress&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;F (N)&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">A0</span>
    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;strain&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;DL (mm)&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">L0</span><span class="p">)</span> <span class="o">/</span> <span class="n">L0</span>

    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;true_stress&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;F (N)&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">A0</span>
    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;true_strain&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;strain&#39;</span><span class="p">])</span>

    <span class="n">yield_point</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;stress&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()]</span>
    <span class="n">permanent_strain</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;strain&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;strain&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;stress&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Engineering Stress-Strain&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;true_strain&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;true_stress&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;True Stress-Strain&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">yield_point</span><span class="p">[</span><span class="s1">&#39;strain&#39;</span><span class="p">],</span> <span class="n">yield_point</span><span class="p">[</span><span class="s1">&#39;stress&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Yield Point&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Yield Point: Strain=</span><span class="si">{</span><span class="n">yield_point</span><span class="p">[</span><span class="s1">&#39;strain&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, Stress=</span><span class="si">{</span><span class="n">yield_point</span><span class="p">[</span><span class="s1">&#39;stress&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">yield_point</span><span class="p">[</span><span class="s1">&#39;strain&#39;</span><span class="p">],</span> <span class="n">yield_point</span><span class="p">[</span><span class="s1">&#39;stress&#39;</span><span class="p">]),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s2">&quot;offset points&quot;</span><span class="p">,</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Strain&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Stress (MPa)&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Stress-Strain Curve&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Columns in the data:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">First few rows of the data:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Yield Point Information:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">yield_point</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Permanent Strain:&quot;</span><span class="p">,</span> <span class="n">permanent_strain</span><span class="p">)</span></div>





<div class="viewcode-block" id="Stress_Strain5">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Stress_Strain5">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Stress_Strain5</span><span class="p">(</span><span class="n">input_data</span><span class="p">,</span> <span class="n">action</span><span class="p">):</span>
    <span class="n">stress</span> <span class="o">=</span> <span class="n">input_data</span><span class="p">[</span><span class="s1">&#39;Stress (MPa)&#39;</span><span class="p">]</span>
    <span class="n">strain</span> <span class="o">=</span> <span class="n">input_data</span><span class="p">[</span><span class="s1">&#39;Strain (%)&#39;</span><span class="p">]</span>
    
    <span class="k">if</span> <span class="n">action</span> <span class="o">==</span> <span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="c1"># Plotting data</span>
        <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">strain</span><span class="p">,</span> <span class="n">stress</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;royalblue&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Stress-Strain Curve&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Stress-Strain Curve&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Strain (%)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Stress (MPa)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">strain</span><span class="o">.</span><span class="n">max</span><span class="p">()])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="n">stress</span><span class="o">.</span><span class="n">max</span><span class="p">()])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
   
    <span class="k">elif</span> <span class="n">action</span> <span class="o">==</span> <span class="s1">&#39;max stress&#39;</span><span class="p">:</span>
        <span class="c1"># Calculation of the maximum stress</span>
        <span class="n">stress_max</span> <span class="o">=</span> <span class="n">stress</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">stress_max</span>
    
    <span class="k">elif</span> <span class="n">action</span> <span class="o">==</span> <span class="s1">&#39;young modulus&#39;</span><span class="p">:</span>
        <span class="c1"># Calculation of Young&#39;s Modulus</span>
        <span class="n">slope_intercept</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">strain</span><span class="p">,</span> <span class="n">stress</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">slope_intercept</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>




<div class="viewcode-block" id="aerospace_analysis">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.aerospace_analysis">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">aerospace_analysis</span> <span class="p">(</span><span class="n">CSV</span><span class="p">,</span><span class="n">which</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    this function has the ability to convert your datas into </span>
<span class="sd">    answers that you need </span>
<span class="sd">    your datas should be in Newton and M**2 format </span>
<span class="sd">    in this program we will be using presure as the output data </span>
<span class="sd">    if you want to make a sketch Use === Plot</span>
<span class="sd">    if you want to check the max_presure use === MaxPer</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">mydf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">CSV</span><span class="p">)</span>
    <span class="n">mydff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">mydf</span><span class="p">)</span>
    <span class="n">mydf1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">mydff</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Newton&#39;</span><span class="p">,</span><span class="s1">&#39;Area&#39;</span><span class="p">])</span>
    <span class="n">mydf2</span> <span class="o">=</span> <span class="n">mydf1</span><span class="p">[</span><span class="s1">&#39;Newton&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">mydf1</span><span class="p">[</span><span class="s1">&#39;Area&#39;</span><span class="p">]</span>
    <span class="n">mydf3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">mydf1</span><span class="p">,</span><span class="n">mydf2</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">which</span> <span class="o">==</span> <span class="s1">&#39;Plot&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">mydf1</span><span class="p">[</span><span class="s1">&#39;Newton&#39;</span><span class="p">],</span><span class="n">mydf1</span><span class="p">[</span><span class="s1">&#39;Area&#39;</span><span class="p">])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Area&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Newton&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">which</span> <span class="o">==</span> <span class="s1">&#39;MaxPer&#39;</span><span class="p">:</span>
        <span class="n">max_p</span> <span class="o">=</span> <span class="n">mydf3</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">max_p</span></div>

        
        


<div class="viewcode-block" id="XRD_Analysis">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.XRD_Analysis">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">XRD_Analysis</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="n">which</span><span class="p">,</span><span class="n">peak</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    </span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    file : str</span>
<span class="sd">        the variable in which you saved the .cvs file path         </span>
<span class="sd">    which : str</span>
<span class="sd">        which operation you want to perform on the file      </span>
<span class="sd">    peak : float, optional</span>
<span class="sd">        2θ for the peak you want to analyse. The default is 0.     </span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    fwhm : float</span>
<span class="sd">        value of FWHM for the peak you specified.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="n">npar</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="n">angle</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;angle&#39;</span><span class="p">]</span>
        <span class="n">intensity</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;intensity&#39;</span><span class="p">]</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span><span class="n">intensity</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
        <span class="n">font_title</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;serif&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">20</span><span class="p">}</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;XRD pattern&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_title</span><span class="p">)</span>
        <span class="n">font_label</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;times new roman&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">15</span><span class="p">}</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;angle (2θ)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_label</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;intensity (a.u.)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_label</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">max</span><span class="p">(</span><span class="n">angle</span><span class="p">),</span><span class="mi">5</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.1</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">]])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="n">direction</span><span class="o">=</span><span class="s1">&#39;in&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">elif</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;fwhm&#39;</span><span class="p">:</span>
        <span class="n">diff</span><span class="o">=</span><span class="nb">int</span><span class="p">((</span><span class="n">npar</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">npar</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span><span class="o">/</span><span class="mi">2000</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">npar</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="o">-</span><span class="n">diff</span><span class="o">&lt;</span><span class="n">npar</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">peak</span><span class="o">&lt;</span><span class="n">diff</span><span class="p">:</span>
                <span class="n">pl</span><span class="o">=</span><span class="n">i</span>
                <span class="n">ph</span><span class="o">=</span><span class="n">i</span>
                <span class="n">p</span><span class="o">=</span><span class="n">i</span>
                <span class="k">break</span>
        <span class="k">while</span> <span class="n">pl</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">((</span><span class="n">npar</span><span class="p">[</span><span class="n">pl</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">npar</span><span class="p">[</span><span class="n">pl</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">npar</span><span class="p">[</span><span class="n">pl</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">npar</span><span class="p">[</span><span class="n">pl</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span><span class="o">&gt;</span><span class="mf">1.04</span> <span class="ow">and</span> <span class="p">(</span><span class="n">npar</span><span class="p">[</span><span class="n">pl</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span><span class="o">&lt;</span><span class="mf">0.4</span><span class="p">:</span>
                <span class="n">in_low_1</span><span class="o">=</span><span class="n">npar</span><span class="p">[</span><span class="n">pl</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>
            <span class="n">pl</span><span class="o">=</span><span class="n">pl</span><span class="o">-</span><span class="mi">1</span>
        <span class="k">while</span> <span class="n">ph</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">((</span><span class="n">npar</span><span class="p">[</span><span class="n">ph</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">npar</span><span class="p">[</span><span class="n">ph</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">npar</span><span class="p">[</span><span class="n">ph</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">npar</span><span class="p">[</span><span class="n">ph</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span><span class="o">&lt;</span><span class="mf">0.96</span> <span class="ow">and</span> <span class="p">(</span><span class="n">npar</span><span class="p">[</span><span class="n">ph</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span><span class="o">&lt;</span><span class="mf">0.4</span><span class="p">:</span>
                <span class="n">in_low_2</span><span class="o">=</span><span class="n">npar</span><span class="p">[</span><span class="n">ph</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>
            <span class="n">ph</span><span class="o">=</span><span class="n">ph</span><span class="o">+</span><span class="mi">1</span>
        <span class="n">in_low</span><span class="o">=</span><span class="p">(</span><span class="n">in_low_1</span><span class="o">+</span><span class="n">in_low_2</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
        <span class="n">h</span><span class="o">=</span><span class="n">npar</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">in_low</span>
        <span class="n">hm</span><span class="o">=</span><span class="n">in_low</span><span class="o">+</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span>
        <span class="n">diff_in</span><span class="o">=</span><span class="p">[]</span>
        <span class="n">hm_i</span><span class="o">=</span><span class="p">[]</span>
        <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">npar</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">diff_in</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">npar</span><span class="p">[</span><span class="n">l</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">npar</span><span class="p">[</span><span class="n">l</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">npar</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">c</span><span class="o">=</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="n">j</span><span class="p">)</span><span class="o">*</span><span class="n">k</span>
                <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">npar</span><span class="p">[</span><span class="n">p</span><span class="o">+</span><span class="n">c</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">hm</span><span class="p">)</span><span class="o">&lt;</span><span class="nb">abs</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">diff_in</span><span class="p">)):</span>
                    <span class="n">hm_i</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="o">+</span><span class="n">c</span><span class="p">)</span>
                    <span class="k">break</span>
        <span class="n">fwhm</span><span class="o">=</span><span class="n">npar</span><span class="p">[</span><span class="n">hm_i</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">npar</span><span class="p">[</span><span class="n">hm_i</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">fwhm</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The which argument not valid&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span></div>







<div class="viewcode-block" id="Diabetes_Dataset">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Diabetes_Dataset">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Diabetes_Dataset</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">work</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reads a diabetes dataset from a CSV file</span>

<span class="sd">    Parameters:</span>
<span class="sd">        f (str): The file path of the CSV file containing the diabetes dataset.</span>
<span class="sd">        work (str): The task to perform. Supported values are:</span>
<span class="sd">            - &#39;has_diabetes&#39;: Counts the number of individuals who have diabetes.</span>
<span class="sd">            - &#39;percent_has_diabetes_25&#39;: Calculates the percentage of individuals under 25 who have diabetes.</span>
<span class="sd">            - &#39;percent_has_diabetes_25_to_30&#39;: Calculates the percentage of individuals between 25 to 30 who have diabetes.</span>
<span class="sd">            - &#39;percent_has_diabetes_30_to_40&#39;: Calculates the percentage of individuals between 30 to 40 who have diabetes.</span>
<span class="sd">            - &#39;percent_has_diabetes_40_and_50&#39;: Calculates the percentage of individuals between 40 to 50 who have diabetes.</span>
<span class="sd">            - &#39;percent_has_diabetes_20_to_40&#39;: Calculates the percentage of individuals between 20 to 40 who have diabetes.</span>
<span class="sd">            - &#39;percent_has_diabetes_30_to_50&#39;: Calculates the percentage of individuals between 30 to 50 who have diabetes.</span>
<span class="sd">            - &#39;percent_has_diabetes_50_80&#39;: Calculates the percentage of individuals between 50 to 80 who have diabetes.</span>
<span class="sd">            - &#39;rel_bmi_to_diabetes_30_to_40&#39;: Calculates the percentage of individuals with BMI between 30 to 40 who have diabetes.</span>
<span class="sd">            - &#39;rel_bmi_to_diabetes_20_to_30&#39;: Calculates the percentage of individuals with BMI between 20 to 30 who have diabetes.</span>
<span class="sd">            - &#39;histo&#39;: Plots a histogram of ages.</span>
<span class="sd">            - &#39;max_age&#39;: Finds the maximum age in the dataset.</span>
<span class="sd">            - &#39;min_age&#39;: Finds the minimum age in the dataset.</span>
<span class="sd">            - &#39;max_age_has_diabetes&#39;: Finds the individuals with the maximum age who have diabetes.</span>
<span class="sd">            - &#39;min_age_has_diabetes&#39;: Finds the individuals with the minimum age who have diabetes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">read_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;has_diabetes&#39;</span><span class="p">:</span>
        <span class="n">all_outcome</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span>
        <span class="n">has_diabetes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">all_outcome</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">has_diabetes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">text</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;all Outcome is </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">all_outcome</span><span class="p">)</span><span class="si">}</span><span class="s1"> and has diabetes is </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">has_diabetes</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="k">return</span> <span class="n">text</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;percent_has_diabetes_25&#39;</span><span class="p">:</span>
        <span class="n">has_diabetes_25</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">read_data</span><span class="p">[(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">25</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)])</span>
        <span class="n">less_then_25</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span>
            <span class="n">read_data</span><span class="p">[(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">25</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">((</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">))])</span>
        <span class="n">percent</span> <span class="o">=</span> <span class="n">has_diabetes_25</span> <span class="o">*</span> <span class="p">(</span><span class="mi">100</span> <span class="o">/</span> <span class="n">less_then_25</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">percent</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;percent_has_diabetes_25_to_30&#39;</span><span class="p">:</span>
        <span class="n">between_25_to_30</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[((</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">25</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">30</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">all_outcome_25_to_30</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[((</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">25</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">30</span><span class="p">))</span> <span class="o">&amp;</span>
                                         <span class="p">((</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)]</span>
        <span class="n">percent</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">between_25_to_30</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">100</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_outcome_25_to_30</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;percent_has_diabetes_30_to_40&#39;</span><span class="p">:</span>
        <span class="n">between_30_to_40</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[((</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">40</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">all_outcome_30_to_40</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[((</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">40</span><span class="p">))</span> <span class="o">&amp;</span>
                                         <span class="p">((</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">))]</span>
        <span class="n">percent</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">between_30_to_40</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">100</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_outcome_30_to_40</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">percent</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;percent_has_diabetes_40_to_50&#39;</span><span class="p">:</span>
        <span class="n">has_diabetes_40_to_50</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[((</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">40</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">50</span><span class="p">))</span> <span class="o">&amp;</span>
                                          <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">all_outcome_40_to_50</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[((</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">40</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">50</span><span class="p">))</span> <span class="o">&amp;</span>
                                         <span class="p">((</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">))]</span>
        <span class="n">percent</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">has_diabetes_40_to_50</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">100</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_outcome_40_to_50</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">percent</span>

    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;percent_has_diabetes_20_to_40&#39;</span><span class="p">:</span>
        <span class="n">age_groups</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">30</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">age_group</span> <span class="ow">in</span> <span class="n">age_groups</span><span class="p">:</span>
            <span class="n">min_age</span><span class="p">,</span> <span class="n">max_age</span> <span class="o">=</span> <span class="n">age_group</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">min_age</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">max_age</span><span class="p">)]</span>
            <span class="n">has_diabetes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">])</span>
            <span class="n">all_data</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="n">percent</span> <span class="o">=</span> <span class="n">has_diabetes</span> <span class="o">*</span> <span class="p">(</span><span class="mi">100</span> <span class="o">/</span> <span class="n">all_data</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">percent</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;percent_has_diabetes_30_to_50&#39;</span><span class="p">:</span>
        <span class="n">age_groups</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">age_group</span> <span class="ow">in</span> <span class="n">age_groups</span><span class="p">:</span>
            <span class="n">min_age</span><span class="p">,</span> <span class="n">max_age</span> <span class="o">=</span> <span class="n">age_group</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">min_age</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">max_age</span><span class="p">)]</span>
            <span class="n">has_diabetes</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">percent</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">has_diabetes</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">100</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">percent</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;percent_has_diabetes_50_80&#39;</span><span class="p">:</span>
        <span class="n">age_groups</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">80</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">age_group</span> <span class="ow">in</span> <span class="n">age_groups</span><span class="p">:</span>
            <span class="n">min_age</span><span class="p">,</span> <span class="n">max_age</span> <span class="o">=</span> <span class="n">age_group</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">min_age</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">max_age</span><span class="p">)]</span>
            <span class="n">has_diabetes</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">percent</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">has_diabetes</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">100</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">percent</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;rel_bmi_to_diabetes_30_to_40&#39;</span><span class="p">:</span>
        <span class="n">bmi_groups</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">bmi_group</span> <span class="ow">in</span> <span class="n">bmi_groups</span><span class="p">:</span>
            <span class="n">min_bmi</span><span class="p">,</span> <span class="n">max_bmi</span> <span class="o">=</span> <span class="n">bmi_group</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;BMI&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">min_bmi</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;BMI&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">max_bmi</span><span class="p">)]</span>
            <span class="n">has_diabetes</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">percent</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">has_diabetes</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">100</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">percent</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;rel_bmi_to_diabetes_20_to_30&#39;</span><span class="p">:</span>
        <span class="n">bmi_groups</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">bmi_group</span> <span class="ow">in</span> <span class="n">bmi_groups</span><span class="p">:</span>
            <span class="n">min_bmi</span><span class="p">,</span> <span class="n">max_bmi</span> <span class="o">=</span> <span class="n">bmi_group</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;BMI&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">min_bmi</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;BMI&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">max_bmi</span><span class="p">)]</span>
            <span class="n">has_diabetes</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">percent</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">has_diabetes</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">100</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">percent</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;histo&#39;</span><span class="p">:</span>
        <span class="n">ages</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">ages</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;max_age&#39;</span><span class="p">:</span>
        <span class="n">age</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span>
        <span class="n">max_age</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">max_age</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;min_age&#39;</span><span class="p">:</span>
        <span class="n">age</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span>
        <span class="n">min_age</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">min_age</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;max_age_has_diabetes&#39;</span><span class="p">:</span>
        <span class="n">max_ages</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">has_diabetes</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[((</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">max_ages</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">))]</span>
        <span class="k">return</span> <span class="n">has_diabetes</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;min_age_has_diabetes&#39;</span><span class="p">:</span>
        <span class="n">min_ages</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="n">has_diabetes</span> <span class="o">=</span> <span class="n">read_data</span><span class="p">[((</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">min_ages</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">read_data</span><span class="p">[</span><span class="s1">&#39;Outcome&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">))]</span>
        <span class="k">return</span> <span class="n">has_diabetes</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;invalid command&#39;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Income_Developer">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Income_Developer">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Income_Developer</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">work</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reads income data from a CSV file and displays graphs based on the specified task.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        file (str): The file path of the CSV file containing the income dataset.</span>
<span class="sd">        work (str): The task to perform. Supported values are:</span>

<span class="sd">        - &#39;plot_data&#39;: Displays a line plot of income over age for Python and JavaScript developers.</span>
<span class="sd">        - &#39;bar_data&#39;: Displays a bar plot of income over age for Python and JavaScript developers.</span>
<span class="sd">        - &#39;max_salary_data&#39;: Displays a bar plot showing the maximum income for Python and JavaScript developers.</span>
<span class="sd">        - &#39;plot_bar_data&#39;: Displays both bar and line plots of income over age for Python and JavaScript developers.</span>
<span class="sd">        - &#39;max_salary_data_by_age&#39;: Displays a bar plot showing the maximum income for Python and JavaScript developers based on age.</span>
<span class="sd">        - &#39;alph_data&#39;: Displays a bar plot with different alpha values for Python and JavaScript developers.</span>
<span class="sd">        - &#39;show_by_side_by_side_data&#39;: Displays two bar plots side by side for Python and JavaScript developers with age on the x-axis and income on the y-axis.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># read file</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

    <span class="c1"># style plt</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;fast&#39;</span><span class="p">)</span>

    <span class="c1"># get data</span>
    <span class="n">python_data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Language&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;python&#39;</span><span class="p">)]</span>
    <span class="n">js_data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Language&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;js&#39;</span><span class="p">)]</span>

    <span class="c1"># get age data</span>
    <span class="n">python_ages</span> <span class="o">=</span> <span class="n">python_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span>
    <span class="n">js_ages</span> <span class="o">=</span> <span class="n">js_data</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span>
    <span class="n">ages_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">49</span><span class="p">)</span>

    <span class="c1"># get income data</span>
    <span class="n">python_income</span> <span class="o">=</span> <span class="n">python_data</span><span class="p">[</span><span class="s1">&#39;Income&#39;</span><span class="p">]</span>
    <span class="n">js_income</span> <span class="o">=</span> <span class="n">js_data</span><span class="p">[</span><span class="s1">&#39;Income&#39;</span><span class="p">]</span>

    <span class="c1"># get max income data</span>
    <span class="n">max_income_python</span> <span class="o">=</span> <span class="n">python_data</span><span class="p">[</span><span class="s1">&#39;Income&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="n">max_income_js</span> <span class="o">=</span> <span class="n">js_data</span><span class="p">[</span><span class="s1">&#39;Income&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>



    <span class="k">if</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;plot_data&#39;</span><span class="p">:</span>
        <span class="c1"># show plot data</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">python_ages</span><span class="p">,</span> <span class="n">python_income</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Python&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">js_ages</span><span class="p">,</span> <span class="n">js_income</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;bar_data&#39;</span><span class="p">:</span>
        <span class="c1"># show bar data</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">python_ages</span><span class="p">,</span> <span class="n">python_income</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Python&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">js_ages</span><span class="p">,</span> <span class="n">js_income</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;max_salary_data&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">([</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;js&#39;</span><span class="p">],</span> <span class="p">[</span><span class="n">max_income_python</span><span class="p">,</span> <span class="n">max_income_js</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;skyblue&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">],</span>
                <span class="n">label</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;js&#39;</span><span class="p">])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;plot_bar_data&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">python_ages</span><span class="p">,</span> <span class="n">python_income</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Python&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">js_ages</span><span class="p">,</span> <span class="n">js_income</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">python_ages</span><span class="p">,</span> <span class="n">python_income</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;python&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">js_ages</span><span class="p">,</span> <span class="n">js_income</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;max_salary_data_by_age&#39;</span><span class="p">:</span>
        <span class="n">python_row</span> <span class="o">=</span> <span class="n">python_data</span><span class="p">[</span><span class="n">python_data</span><span class="p">[</span><span class="s1">&#39;Income&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">max_income_python</span><span class="p">]</span>
        <span class="n">js_row</span> <span class="o">=</span> <span class="n">js_data</span><span class="p">[</span><span class="n">js_data</span><span class="p">[</span><span class="s1">&#39;Income&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">max_income_js</span><span class="p">]</span>
        <span class="n">age_py</span> <span class="o">=</span> <span class="n">python_row</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span>
        <span class="n">age_js</span> <span class="o">=</span> <span class="n">js_row</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span>
        <span class="n">income_py</span> <span class="o">=</span> <span class="n">python_row</span><span class="p">[</span><span class="s1">&#39;Income&#39;</span><span class="p">]</span>
        <span class="n">income_js</span> <span class="o">=</span> <span class="n">js_row</span><span class="p">[</span><span class="s1">&#39;Income&#39;</span><span class="p">]</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">age_py</span><span class="p">,</span> <span class="n">income_py</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Python&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">age_js</span><span class="p">,</span> <span class="n">income_js</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;js&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;alph_data&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">python_ages</span><span class="p">,</span> <span class="n">python_income</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">js_ages</span><span class="p">,</span> <span class="n">js_income</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;js&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">work</span> <span class="o">==</span> <span class="s1">&#39;show_by_side_by_side_data&#39;</span><span class="p">:</span>
        <span class="n">my_width</span> <span class="o">=</span> <span class="mf">0.6</span>
        <span class="n">age</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">49</span><span class="p">)))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">age</span> <span class="o">+</span> <span class="n">my_width</span><span class="p">,</span> <span class="n">python_income</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">age</span><span class="p">,</span> <span class="n">js_income</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;js&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">ticks</span><span class="o">=</span><span class="n">age</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">ages_x</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;salary&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;invalid command&#39;</span><span class="p">)</span></div>







<div class="viewcode-block" id="LN_S_E">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.LN_S_E">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">LN_S_E</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">operation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    </span>

<span class="sd">    This function plots the ELASTIC part of the true stress-strain curve</span>
<span class="sd">    and can also calculate the Young&#39;s Modulus(E).</span>
<span class="sd">    ----------</span>
<span class="sd">    df : DataFrame</span>
<span class="sd">       It has 2 columns: DL(which is length in mm) &amp; F (which is the force in N).</span>
<span class="sd">    operation :</span>
<span class="sd">       It tells the function to whether Plot the curve or calculate the Young&#39;s Modulus(E).</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    The elastic part of the true stress-strain curve or the amount of E</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">L0</span> <span class="o">=</span> <span class="mi">40</span>
    <span class="n">D0</span> <span class="o">=</span> <span class="mi">9</span>
    <span class="n">A0</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="n">D0</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;DL&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">L0</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;S&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;F&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">A0</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;eps&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">])</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sig&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;S&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">])</span>
    <span class="n">filtered_index</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;eps&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mf">0.04</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;eps&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mf">0.08</span><span class="p">)]</span><span class="o">.</span><span class="n">index</span>
    <span class="s2">&quot;the elastic part of the curve is where the true strain(eps) is from 0.04 to 0.08&quot;</span>

    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;selected_ln_eps&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">filtered_index</span><span class="p">,</span> <span class="s1">&#39;selected_ln_eps&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">filtered_index</span><span class="p">,</span> <span class="s1">&#39;eps&#39;</span><span class="p">]</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;selected_ln_eps&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="o">~</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;selected_ln_eps&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">(),</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;selected_ln_eps&#39;</span><span class="p">]),</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;selected_ln_eps&#39;</span><span class="p">])</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;selected_ln_sig&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">filtered_index</span><span class="p">,</span> <span class="s1">&#39;selected_ln_sig&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">filtered_index</span><span class="p">,</span> <span class="s1">&#39;sig&#39;</span><span class="p">]</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;selected_ln_sig&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="o">~</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;selected_ln_sig&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">(),</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;selected_ln_sig&#39;</span><span class="p">]),</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;selected_ln_sig&#39;</span><span class="p">])</span>


    <span class="k">if</span> <span class="n">operation</span> <span class="o">==</span> <span class="s1">&#39;PLOT&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;selected_ln_eps&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(),</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;selected_ln_sig&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;ln_eps&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;ln_sig&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;ln(sig) vs ln(eps) Plot&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">operation</span> <span class="o">==</span> <span class="s1">&#39;YOUNG_MODULUS&#39;</span><span class="p">:</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;selected_ln_eps&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># Independent variable</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;selected_ln_sig&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># Dependent variable</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
        <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="n">intercept</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">intercept_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">intercept</span><span class="p">)</span>
        
    <span class="k">else</span><span class="p">:</span> 
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Please enter proper operation&quot;</span><span class="p">)</span>
        <span class="k">return</span></div>





<div class="viewcode-block" id="Oxygen_Heat_Capacity_Analysis">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Oxygen_Heat_Capacity_Analysis">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Oxygen_Heat_Capacity_Analysis</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function reads the temperature and heat capacity information</span>
<span class="sd">    from the Excel file and then calculates the enthalpy and entropy values</span>
<span class="sd">    and draws their graphs.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    T: Oxygen temperature</span>
<span class="sd">    Cp: Heat capacity at constant pressure in different oxygen temperature ranges</span>
<span class="sd">    </span>
<span class="sd">    Return:</span>
<span class="sd">    The values of enthalpy, entropy and their graph according to temperature</span>
<span class="sd">    Heat capacity graph according to temperature</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;value of T column&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;T&quot;</span><span class="p">])</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;value of cp column&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Cp&quot;</span><span class="p">])</span>
    
    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Enthalpy&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Cp&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span>
    <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Entropy&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Enthalpy&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">]</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Cp&#39;</span><span class="p">])</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Temperature (T)&#39;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Heat Capacity (Cp)&#39;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Heat Capacity vs Temperature&#39;</span><span class="p">)</span>

    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Enthalpy&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Enthalpy&#39;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Entropy&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Entropy&#39;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Temperature (T)&#39;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Enthalpy and Entropy&#39;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Enthalpy and Entropy vs Temperature&#39;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>









<div class="viewcode-block" id="Compression_Test">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Compression_Test">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Compression_Test</span><span class="p">(</span><span class="n">Data</span><span class="p">,</span><span class="n">Operator</span><span class="p">,</span><span class="n">Sample_Name</span><span class="p">,</span><span class="n">Density</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    </span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    Data : DataFrame</span>
<span class="sd">        Compression test data including stress and strain.</span>
<span class="sd">    Operator : str</span>
<span class="sd">        The action that needs to be done on the data (plot or S_max).</span>
<span class="sd">        plot: Plots a stress-strain diagram.</span>
<span class="sd">    Sample_Name : str</span>
<span class="sd">        Sample name.</span>
<span class="sd">    Density : float, optional</span>
<span class="sd">        Density of the sample. The default is 0.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float</span>
<span class="sd">        If the operator is given S_max, it returns maximum strength.</span>
<span class="sd">        If the operator is given S_max/Density, it returns specific maximum strength.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">e</span><span class="o">=</span><span class="n">Data</span><span class="p">[</span><span class="s2">&quot;e&quot;</span><span class="p">]</span>
    <span class="n">S</span><span class="o">=</span><span class="n">Data</span><span class="p">[</span><span class="s2">&quot;S (Mpa)&quot;</span><span class="p">]</span>
    
    <span class="k">if</span> <span class="n">Operator</span><span class="o">==</span><span class="s2">&quot;S_max&quot;</span><span class="p">:</span>
        
        <span class="n">S_max</span><span class="o">=</span><span class="n">S</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">S_max</span>
        
    <span class="k">elif</span> <span class="n">Operator</span><span class="o">==</span><span class="s2">&quot;S_max/Density&quot;</span> <span class="ow">and</span> <span class="n">Density</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span>
        <span class="n">S_max</span><span class="o">=</span><span class="n">S</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">S_max_Density</span><span class="o">=</span><span class="n">S_max</span><span class="o">/</span><span class="n">Density</span>
        <span class="k">return</span> <span class="n">S_max_Density</span>
    
    <span class="k">elif</span> <span class="n">Operator</span><span class="o">==</span><span class="s2">&quot;plot&quot;</span><span class="p">:</span>
            
        <span class="n">font_label</span><span class="o">=</span><span class="p">{</span>   <span class="s1">&#39;family&#39;</span> <span class="p">:</span> <span class="s1">&#39;Times new roman&#39;</span> <span class="p">,</span>
                    <span class="s1">&#39;color&#39;</span> <span class="p">:</span>   <span class="s1">&#39;black&#39;</span>    <span class="p">,</span>
                    <span class="s1">&#39;size&#39;</span> <span class="p">:</span>   <span class="mi">15</span>   <span class="p">}</span>

        <span class="n">font_legend</span><span class="o">=</span><span class="p">{</span>   <span class="s1">&#39;family&#39;</span> <span class="p">:</span> <span class="s1">&#39;Times new roman&#39;</span> <span class="p">,</span>
                     <span class="s1">&#39;size&#39;</span> <span class="p">:</span>   <span class="mi">13</span>   <span class="p">}</span>


        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">e</span><span class="p">,</span><span class="n">S</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">Sample_Name</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_label</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;S (Mpa)&quot;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_label</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    
        <span class="n">plt</span><span class="o">.</span><span class="n">autoscale</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">AutoMinorLocator</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">AutoMinorLocator</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">prop</span><span class="o">=</span><span class="n">font_legend</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;minor&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;bottom&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;left&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;right&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span></div>

    



<div class="viewcode-block" id="DMTA_Test">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.DMTA_Test">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">DMTA_Test</span><span class="p">(</span><span class="n">Data2</span><span class="p">,</span><span class="n">Operator</span><span class="p">,</span><span class="n">Sample_Name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    </span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    Data : DataFrame</span>
<span class="sd">        DMTA test data including storage modulus, loss modulus and tanδ.</span>
<span class="sd">    Operator : str</span>
<span class="sd">        The action that needs to be done on the data (storage_max, loss_max, tan_max, plot_storage, plot_loss or plot_tan).</span>
<span class="sd">    Sample_Name : str</span>
<span class="sd">        Sample name.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float</span>
<span class="sd">        If the operator is given storage_max, it returns maximum storage modulus.</span>
<span class="sd">        If the operator is given loss_max, it returns maximum loss modulus.</span>
<span class="sd">        If the operator is given Tan_max, it returns maximum Tanδ.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">Frequency</span><span class="o">=</span><span class="n">Data2</span><span class="p">[</span><span class="s2">&quot;Frequency (Hz)&quot;</span><span class="p">]</span>
    <span class="n">Storage_Modulus</span><span class="o">=</span><span class="n">Data2</span><span class="p">[</span><span class="s2">&quot;E&#39;-Storage Modulus (Mpa)&quot;</span><span class="p">]</span>
    <span class="n">Loss_Modulus</span><span class="o">=</span><span class="n">Data2</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">13</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">Tanδ</span><span class="o">=</span><span class="n">Data2</span><span class="p">[</span><span class="s2">&quot;Tanδ&quot;</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">Operator</span><span class="o">==</span><span class="s2">&quot;storage_max&quot;</span><span class="p">:</span>
        <span class="n">Storage_max</span><span class="o">=</span><span class="n">Storage_Modulus</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">Storage_max</span>
    
    <span class="k">elif</span> <span class="n">Operator</span><span class="o">==</span><span class="s2">&quot;loss_max&quot;</span><span class="p">:</span>
        <span class="n">Loss_max</span><span class="o">=</span><span class="n">Loss_Modulus</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">Loss_max</span>
    
    <span class="k">elif</span> <span class="n">Operator</span><span class="o">==</span><span class="s2">&quot;tan_max&quot;</span><span class="p">:</span>
        <span class="n">Tan_max</span><span class="o">=</span><span class="n">Tanδ</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">Tan_max</span>
    
    <span class="k">elif</span> <span class="n">Operator</span><span class="o">==</span><span class="s2">&quot;plot_storage&quot;</span><span class="p">:</span>
        
        <span class="n">font_label</span><span class="o">=</span><span class="p">{</span>   <span class="s1">&#39;family&#39;</span> <span class="p">:</span> <span class="s1">&#39;Times new roman&#39;</span> <span class="p">,</span>
                    <span class="s1">&#39;color&#39;</span> <span class="p">:</span>   <span class="s1">&#39;black&#39;</span>    <span class="p">,</span>
                    <span class="s1">&#39;size&#39;</span> <span class="p">:</span>   <span class="mi">15</span>   <span class="p">}</span>

        <span class="n">font_legend</span><span class="o">=</span><span class="p">{</span>   <span class="s1">&#39;family&#39;</span> <span class="p">:</span> <span class="s1">&#39;Times new roman&#39;</span> <span class="p">,</span>
                     <span class="s1">&#39;size&#39;</span> <span class="p">:</span>   <span class="mi">13</span>   <span class="p">}</span>


        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Frequency</span><span class="p">,</span><span class="n">Storage_Modulus</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">Sample_Name</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Frequency (Hz)&quot;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_label</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;E&#39;-Storage Modulus (Mpa)&quot;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_label</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    
        <span class="n">plt</span><span class="o">.</span><span class="n">autoscale</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">AutoMinorLocator</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">AutoMinorLocator</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">prop</span><span class="o">=</span><span class="n">font_legend</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;minor&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;bottom&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;left&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;right&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
        
    <span class="k">elif</span> <span class="n">Operator</span><span class="o">==</span><span class="s2">&quot;plot_loss&quot;</span><span class="p">:</span>
        
        <span class="n">font_label</span><span class="o">=</span><span class="p">{</span>   <span class="s1">&#39;family&#39;</span> <span class="p">:</span> <span class="s1">&#39;Times new roman&#39;</span> <span class="p">,</span>
                    <span class="s1">&#39;color&#39;</span> <span class="p">:</span>   <span class="s1">&#39;black&#39;</span>    <span class="p">,</span>
                    <span class="s1">&#39;size&#39;</span> <span class="p">:</span>   <span class="mi">15</span>   <span class="p">}</span>

        <span class="n">font_legend</span><span class="o">=</span><span class="p">{</span>   <span class="s1">&#39;family&#39;</span> <span class="p">:</span> <span class="s1">&#39;Times new roman&#39;</span> <span class="p">,</span>
                     <span class="s1">&#39;size&#39;</span> <span class="p">:</span>   <span class="mi">13</span>   <span class="p">}</span>


        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Frequency</span><span class="p">,</span><span class="n">Loss_Modulus</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">Sample_Name</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Frequency (Hz)&quot;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_label</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;E&#39;&#39;-Loss Modulus (Mpa)&quot;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_label</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    
        <span class="n">plt</span><span class="o">.</span><span class="n">autoscale</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">AutoMinorLocator</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">AutoMinorLocator</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">prop</span><span class="o">=</span><span class="n">font_legend</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;minor&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;bottom&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;left&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;right&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>    
    
    <span class="k">elif</span> <span class="n">Operator</span><span class="o">==</span><span class="s2">&quot;plot_tan&quot;</span><span class="p">:</span>
        
        <span class="n">font_label</span><span class="o">=</span><span class="p">{</span>   <span class="s1">&#39;family&#39;</span> <span class="p">:</span> <span class="s1">&#39;Times new roman&#39;</span> <span class="p">,</span>
                    <span class="s1">&#39;color&#39;</span> <span class="p">:</span>   <span class="s1">&#39;black&#39;</span>    <span class="p">,</span>
                    <span class="s1">&#39;size&#39;</span> <span class="p">:</span>   <span class="mi">15</span>   <span class="p">}</span>

        <span class="n">font_legend</span><span class="o">=</span><span class="p">{</span>   <span class="s1">&#39;family&#39;</span> <span class="p">:</span> <span class="s1">&#39;Times new roman&#39;</span> <span class="p">,</span>
                     <span class="s1">&#39;size&#39;</span> <span class="p">:</span>   <span class="mi">13</span>   <span class="p">}</span>


        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Frequency</span><span class="p">,</span><span class="n">Tanδ</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">Sample_Name</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Frequency (Hz)&quot;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_label</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Tanδ&quot;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_label</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    
        <span class="n">plt</span><span class="o">.</span><span class="n">autoscale</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">AutoMinorLocator</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">AutoMinorLocator</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">prop</span><span class="o">=</span><span class="n">font_legend</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;minor&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;bottom&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;left&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;right&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span></div>





<div class="viewcode-block" id="Find_Max_Vertical_Velocity">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Find_Max_Vertical_Velocity">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Find_Max_Vertical_Velocity</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function gets the data results of flow velocity simulation for natural convection of a molten in a cavity.</span>
<span class="sd">    and as the output, it shows the plot of flow velocity vs x</span>
<span class="sd">    and also it returns the maximum velocity and the location where that velocity belogs to.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;x(m)&#39;</span><span class="p">])</span>
    <span class="n">u</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;u(m/s)&#39;</span><span class="p">])</span>
    <span class="n">u_max</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">u</span><span class="p">)</span><span class="c1">#the max value of the velocity</span>
    <span class="n">index_max</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">u</span><span class="p">)</span><span class="c1">#the index of which this value exists in</span>
    <span class="n">loc_max</span><span class="o">=</span><span class="n">x</span><span class="p">[</span><span class="n">index_max</span><span class="p">]</span><span class="c1">#the location of the maximum velocity</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The maximum value of Flow Velocity for this problem is:&#39;</span><span class="p">,</span><span class="n">u_max</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Also this maximum value occurs in this location:&#39;</span><span class="p">,</span><span class="n">loc_max</span><span class="p">)</span>
   
    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">u</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Flow Velocity&#39;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="n">family</span><span class="o">=</span><span class="s1">&#39;times new roman&#39;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">pad</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x (m)&#39;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;u velocity (m/s)&#39;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
    <span class="k">return</span> <span class="n">u_max</span><span class="p">,</span><span class="n">loc_max</span></div>




        
<div class="viewcode-block" id="Solidification_Start">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Solidification_Start">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Solidification_Start</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">Temp_sol</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function gets the temperature values of a molten along with its solidus temperature as inputs,</span>
<span class="sd">    and if the solidification process has started it returns true and if not it returns false.</span>
<span class="sd">    it also plots the temperature values in the center line.</span>
<span class="sd">    note that this function has simplified the problem and many other parameters should be taken into consideration.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;x(m)&#39;</span><span class="p">])</span>
    <span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;T(K)&#39;</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Temperature Profile&#39;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="n">family</span><span class="o">=</span><span class="s1">&#39;times new roman&#39;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">pad</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x (m)&#39;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Temperature (K)&#39;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">Temp_Min</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">Temp_Min</span><span class="o">&gt;</span><span class="n">Temp_sol</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The solidification process has not started yet.&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The solidification process has started.&#39;</span><span class="p">)</span> 
        
    
    <span class="k">if</span> <span class="n">Temp_Min</span><span class="o">&gt;</span><span class="n">Temp_sol</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    








<div class="viewcode-block" id="Sakhti_ab">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Sakhti_ab">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Sakhti_ab</span><span class="p">(</span> <span class="n">data</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : exel</span>
<span class="sd">        شامل تمامی داده های مورد نیاز برای بررسی سختی آب میباشد.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    data : plot</span>
<span class="sd">        plot mizan sakhti ab dar nemoone ha.</span>
<span class="sd">    arraye</span>
<span class="sd">        jadval nahayi.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">unavalable_water</span><span class="o">=</span><span class="p">[]</span>

    <span class="n">drop_index</span><span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Cu&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">20</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">drop_index</span><span class="p">:</span>
        <span class="n">unavalable_water</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="n">i</span><span class="p">],[</span><span class="s1">&#39;name&#39;</span><span class="p">]])</span>
    <span class="n">data</span><span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">drop_index</span><span class="p">)</span>
    
    <span class="n">drop_index</span><span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Ni&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">drop_index</span><span class="p">:</span>
        <span class="n">unavalable_water</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="n">i</span><span class="p">],[</span><span class="s1">&#39;name&#39;</span><span class="p">]])</span>
    <span class="n">data</span><span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">drop_index</span><span class="p">)</span>
    
    <span class="n">drop_index</span><span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Zn&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">drop_index</span><span class="p">:</span>
        <span class="n">unavalable_water</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="n">i</span><span class="p">],[</span><span class="s1">&#39;name&#39;</span><span class="p">]])</span>
    <span class="n">data</span><span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">drop_index</span><span class="p">)</span>
    
    <span class="n">drop_index</span><span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;pyro&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">100</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">drop_index</span><span class="p">:</span>
        <span class="n">unavalable_water</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="n">i</span><span class="p">],[</span><span class="s1">&#39;name&#39;</span><span class="p">]])</span>
    <span class="n">data</span><span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">drop_index</span><span class="p">)</span>
    
    <span class="n">drop_index</span><span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Cya&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">drop_index</span><span class="p">:</span>
        <span class="n">unavalable_water</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="n">i</span><span class="p">],[</span><span class="s1">&#39;name&#39;</span><span class="p">]])</span>
    <span class="n">data</span><span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">drop_index</span><span class="p">)</span>
    <span class="c1">#======</span>
    
    <span class="n">mg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Mg&#39;</span><span class="p">])</span>
    <span class="n">ca</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Ca&#39;</span><span class="p">])</span>
    <span class="n">names</span><span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>

    <span class="n">ppm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
    <span class="n">ca</span> <span class="o">=</span> <span class="p">(</span><span class="n">ca</span><span class="o">*</span><span class="mf">2.5</span><span class="p">)</span>
    <span class="n">mg</span> <span class="o">=</span> <span class="p">(</span><span class="n">mg</span><span class="o">*</span><span class="mf">4.12</span><span class="p">)</span>
    <span class="n">ppm</span> <span class="o">=</span> <span class="n">ca</span> <span class="o">+</span> <span class="n">mg</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">ppm</span><span class="p">,</span><span class="n">names</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">data</span><span class="p">,</span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>





<div class="viewcode-block" id="Wear_Rate">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Wear_Rate">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Wear_Rate</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">work</span><span class="p">,</span><span class="n">S</span><span class="p">,</span><span class="n">F</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    w : dataframe contains 2 columns </span>
<span class="sd">    bayad shamele 2 soton bashad ke dar yek soton vazn nemoone ghabl az test andazegiri shavad ,</span>
<span class="sd">    dar yek soton vazne nemone pas az etmame test.</span>
<span class="sd">    </span>
<span class="sd">    S haman masate laghzesh hine azmone sayesh ast. S bayad bar hasbe metr bashad.</span>
<span class="sd">    </span>
<span class="sd">    F barabare niroyee ast ke be pin vared shode ast , azmon ba an anjam shode ast. F bayad bar hasbe newton bashad</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">w</span><span class="o">.</span><span class="n">columns</span>
    <span class="n">wb</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="s1">&#39;weight befor test&#39;</span><span class="p">])</span>
    <span class="c1"># khate bala soton avval ra joda mikonad yani vazne nemone ghabl az azmoon.</span>
    <span class="n">wa</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="s1">&#39;weight after test&#39;</span><span class="p">])</span>
    <span class="c1"># khate bala soton dovvom ra joda mikonad yani vazne nemone baa&#39;d az azmoon.</span>
    <span class="n">wl</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="n">wb</span><span class="p">,</span><span class="n">wa</span><span class="p">)</span>
    <span class="c1"># khate bala kaheshe vazne nemoone pas az azmoon ra hesab mikonad.</span>
    <span class="n">m</span><span class="o">=</span><span class="n">wl</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="c1"># khate bala miangine kaheshe vazne nemoone ra hesab mikonad.</span>
    <span class="k">if</span> <span class="n">work</span><span class="o">==</span><span class="s1">&#39;wear rate&#39;</span><span class="p">:</span>
        <span class="n">WR</span><span class="o">=</span> <span class="n">m</span><span class="o">/</span><span class="p">(</span><span class="n">S</span><span class="o">*</span><span class="n">F</span><span class="p">)</span>
        <span class="c1"># WR yani Wear Rate va nerkhe sayesh ra hesab mikonad.</span>
        <span class="k">return</span> <span class="n">WR</span></div>

    
    


<div class="viewcode-block" id="Wear_Bar">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Wear_Bar">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Wear_Bar</span><span class="p">(</span><span class="n">list_1</span><span class="p">,</span><span class="n">work</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">):</span>
    <span class="c1"># manzoor az bar nemoodare mile ee ast.</span>
    <span class="n">new_list</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">if</span> <span class="n">work</span><span class="o">==</span><span class="s1">&#39;bar&#39;</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">list_1</span><span class="p">:</span>
            <span class="c1"># be komake halgheye for nerkhe sayeshe tamame nemoone ha ra hesab mikonim.</span>
            <span class="n">aa</span><span class="o">=</span><span class="n">Wear_Rate</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;wear rate&#39;</span><span class="p">,</span><span class="mi">300</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
            <span class="n">new_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aa</span><span class="p">)</span>
            <span class="c1"># nerkhe sayeshe har nemoon ra be yek lidt ezafe mikonim.</span>
    <span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="s1">&#39;E&#39;</span><span class="p">])</span>
    <span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">new_list</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="c1"># nemidare mile ee ra ba dastoore plt.bar rasm mikonim.</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;The amount of wear rate for samples&#39;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Wear Rate(mg/N.m&#39;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

    









<div class="viewcode-block" id="Polarization">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Polarization">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Polarization</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">work</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    d: dadehaye azmayeshgah shmele ghegaliye jaryan va potansiel hastand.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">font_1</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;serif&#39;</span><span class="p">,</span>
            <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span>
            <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">14</span><span class="p">}</span>

    <span class="n">font_2</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;serif&#39;</span><span class="p">,</span>
            <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span>
            <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">12</span><span class="p">}</span>
    
    <span class="n">b</span><span class="o">.</span><span class="n">columns</span>
    <span class="n">cd</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="s1">&#39;Current density&#39;</span><span class="p">])</span>
    <span class="c1"># cd haman ghegaliye jaryan ast.</span>
    <span class="n">cp</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="s1">&#39;Potential&#39;</span><span class="p">])</span>
    <span class="c1"># cp haman potansiel ast.</span>
    <span class="n">cdl</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">cd</span><span class="p">)</span>
    <span class="c1"># dadehaye ghegaliye jaryan bayad logaritni shavand.</span>
    <span class="k">if</span> <span class="n">work</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="c1"># in ghesmat marboot be rasme nemoodare polarizasion ast.</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cdl</span><span class="p">,</span><span class="n">cp</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Polarization Curve&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_1</span><span class="p">,</span><span class="n">pad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Log i(A/cm2)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;E(V Ag/AgCl)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_2</span><span class="p">)</span>
        <span class="c1"># dar 3 khate bala az font haye sakhte shode estefade shod.</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">work</span><span class="o">==</span><span class="s1">&#39;corrosion potential&#39;</span><span class="p">:</span>
        <span class="c1"># in ghesmat marboot be mohasebeye potansiele khordegi ast.</span>
        <span class="n">c</span><span class="o">=</span><span class="n">cdl</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="c1"># meghdare minimume ghegalie jaryan ra miyabim ta potansiele mirboot be an ra peyda konim ke an,</span>
        <span class="c1"># potansiele khordegi ast.</span>
        <span class="n">d</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">cdl</span><span class="o">==</span><span class="n">c</span><span class="p">)</span>
        <span class="c1"># baraye yaftane mahale minimume ghegalie jaryan.</span>
        <span class="n">e</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">d</span><span class="p">]</span>
        <span class="n">f</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="n">g</span><span class="o">=</span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">g</span></div>









<div class="viewcode-block" id="Xrd_Analysis">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Xrd_Analysis">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Xrd_Analysis</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">operation</span><span class="p">):</span>
<span class="w">    </span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    XRD is a nondestructive technique that provides detailed</span>
<span class="sd">    information about the crystallographic structure, chemical </span>
<span class="sd">    -----------------------------------------------------------</span>
<span class="sd">    composition, and physical properties of a material</span>
<span class="sd">    this function return max intensity of xrd pattern and degree </span>
<span class="sd">    of difraction. also based on user requierment return specified plot.</span>
<span class="sd">    statistics analysis is presented too. </span>
<span class="sd">    ----------------------------------------------------------</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : DataFrame</span>
<span class="sd">        data set include tow features:</span>
<span class="sd">            1. degree (2* degree of difraction)</span>
<span class="sd">            2. intensity</span>
<span class="sd">    operation : str</span>
<span class="sd">        determine an operation which apply on data</span>
<span class="sd">        possible values:</span>
<span class="sd">            max intensity</span>
<span class="sd">            scatter plot</span>
<span class="sd">            line graph</span>
<span class="sd">            line graph fill between</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    max intensity and degree of max intensity </span>
<span class="sd">    or</span>
<span class="sd">    plot</span>

<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">font_title</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;family&#39;</span> <span class="p">:</span> <span class="s1">&#39;serif&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span> <span class="p">:</span><span class="s1">&#39;black&#39;</span> <span class="p">,</span> <span class="s1">&#39;size&#39;</span> <span class="p">:</span> <span class="mi">15</span> <span class="p">}</span>
    <span class="n">font_x</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;family&#39;</span> <span class="p">:</span>  <span class="s1">&#39;serif&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span> <span class="p">:</span>   <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span> <span class="p">:</span> <span class="mi">10</span> <span class="p">}</span>
    <span class="n">font_y</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;family&#39;</span> <span class="p">:</span> <span class="s1">&#39;serif&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span> <span class="p">:</span>   <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span> <span class="p">:</span> <span class="mi">10</span><span class="p">}</span>    


    <span class="k">if</span> <span class="n">operation</span> <span class="o">==</span> <span class="s1">&#39;max intensity&#39;</span><span class="p">:</span>
        <span class="n">max_intensity</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;intensity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">specified_intensity</span> <span class="o">=</span>  <span class="n">data</span><span class="p">[</span><span class="s1">&#39;intensity&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">max_intensity</span>
        <span class="n">related_vlues</span> <span class="o">=</span> <span class="n">data</span> <span class="p">[</span><span class="n">specified_intensity</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">related_vlues</span>
    
    <span class="k">elif</span> <span class="n">operation</span> <span class="o">==</span> <span class="s1">&#39;scatter plot&#39;</span><span class="p">:</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;intensity&#39;</span><span class="p">])</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;degree&#39;</span><span class="p">])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">marker</span> <span class="o">=</span> <span class="s1">&#39;^&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;brown&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;XRD pattern&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_title</span> <span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Degree&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_x</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Intensity&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_y</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
    <span class="k">elif</span> <span class="n">operation</span> <span class="o">==</span> <span class="s1">&#39;line graph&#39;</span><span class="p">:</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;intensity&#39;</span><span class="p">])</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;degree&#39;</span><span class="p">])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;XRD pattern&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_title</span> <span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Degree&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_x</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Intensity&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_y</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        
    <span class="k">elif</span> <span class="n">operation</span> <span class="o">==</span> <span class="s1">&#39;line graph fill between&#39;</span><span class="p">:</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;intensity&#39;</span><span class="p">])</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;degree&#39;</span><span class="p">])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#C8D700&quot;</span> <span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.3</span><span class="p">)</span> 
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#36BD00&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;XRD pattern&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_title</span> <span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Degree&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_x</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Intensity&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_y</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>



<div class="viewcode-block" id="Statitical_Analysis">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Statitical_Analysis">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Statitical_Analysis</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">operation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    this function calculate quantile, IQR, min, max, median,and</span>
<span class="sd">    zscore for each features of data set. also it is presented</span>
<span class="sd">    plot.</span>
<span class="sd">    -----------------------------------------------------------</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : data frame</span>
<span class="sd">        </span>
<span class="sd">    opertaion : str</span>
<span class="sd">        possible values:.</span>
<span class="sd">        1. statistics</span>
<span class="sd">        2. histogram</span>
<span class="sd">        3. correlation</span>
<span class="sd">        4.pairplot</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    1. quantile</span>
<span class="sd">    2. min</span>
<span class="sd">    3. max</span>
<span class="sd">    4. median</span>
<span class="sd">    5. zscore</span>
<span class="sd">    6. determined plot</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">font_title</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;family&#39;</span> <span class="p">:</span> <span class="s1">&#39;serif&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span> <span class="p">:</span><span class="s1">&#39;black&#39;</span> <span class="p">,</span> <span class="s1">&#39;size&#39;</span> <span class="p">:</span> <span class="mi">15</span> <span class="p">}</span>
    <span class="n">font_x</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;family&#39;</span> <span class="p">:</span>  <span class="s1">&#39;serif&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span> <span class="p">:</span>   <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span> <span class="p">:</span> <span class="mi">10</span> <span class="p">}</span>
    <span class="n">font_y</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;family&#39;</span> <span class="p">:</span> <span class="s1">&#39;serif&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span> <span class="p">:</span>   <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span> <span class="p">:</span> <span class="mi">10</span><span class="p">}</span>   
    
    <span class="k">if</span> <span class="n">operation</span> <span class="o">==</span> <span class="s1">&#39;statistics&#39;</span><span class="p">:</span>
       <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
           <span class="k">if</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span> <span class="o">==</span> <span class="nb">int</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">dtypes</span> <span class="o">==</span> <span class="nb">float</span><span class="p">):</span>

                <span class="n">Q1</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">.25</span><span class="p">)</span>
                <span class="n">Q3</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">.75</span><span class="p">)</span>
                <span class="n">IQR</span> <span class="o">=</span> <span class="n">Q3</span> <span class="o">-</span><span class="n">Q1</span>
                
                <span class="n">min_value</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
                <span class="n">max_value</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
                <span class="n">median_value</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
                
                <span class="n">z_score</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">stats</span><span class="o">.</span><span class="n">zscore</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">c</span><span class="p">]))</span>
                
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;feature name : &#39;</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span>
                      <span class="s1">&#39;</span><span class="se">\n</span><span class="s1"> min = &#39;</span><span class="p">,</span> <span class="n">min_value</span><span class="p">,</span> 
                     <span class="s1">&#39;max = &#39;</span><span class="p">,</span><span class="n">max_value</span> <span class="p">,</span>
                     <span class="s1">&#39;median = &#39;</span><span class="p">,</span><span class="n">median_value</span> <span class="p">,</span>
                     <span class="s1">&#39;Q1 = &#39;</span><span class="p">,</span> <span class="n">Q1</span><span class="p">,</span> <span class="s1">&#39;Q3 = &#39;</span><span class="p">,</span> <span class="n">Q3</span><span class="p">,</span> <span class="s1">&#39;IQR = &#39;</span><span class="p">,</span> <span class="n">IQR</span><span class="p">,</span>
                     <span class="s1">&#39;ZScore = &#39;</span><span class="p">,</span> <span class="n">z_score</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">operation</span> <span class="o">==</span> <span class="s1">&#39;histogram&#39;</span><span class="p">:</span>
            
            <span class="k">if</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span> <span class="o">==</span> <span class="nb">int</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">dtypes</span> <span class="o">==</span> <span class="nb">float</span><span class="p">):</span>
                
                <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">c</span><span class="p">],</span> <span class="n">label</span> <span class="o">=</span> <span class="n">c</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span>
                         <span class="n">edgecolor</span> <span class="o">=</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span>

                <span class="n">plt</span><span class="o">.</span> <span class="n">legend</span><span class="p">()</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;distribution&#39;</span><span class="p">,</span> <span class="n">fontdict</span><span class="o">=</span><span class="n">font_title</span><span class="p">)</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;bins&#39;</span><span class="p">,</span> <span class="n">fontdict</span> <span class="o">=</span> <span class="n">font_x</span><span class="p">)</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;frequency&#39;</span><span class="p">,</span> <span class="n">fontdict</span> <span class="o">=</span> <span class="n">font_y</span><span class="p">)</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
    <span class="k">if</span> <span class="n">operation</span> <span class="o">==</span> <span class="s1">&#39;correaltion&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">12</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span> <span class="mi">200</span><span class="p">)</span>

        <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">corr</span><span class="p">(),</span> <span class="n">xticklabels</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> 
            <span class="n">yticklabels</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;coolwarm&#39;</span><span class="p">)</span>
                
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;correalation&#39;</span><span class="p">,</span> <span class="n">fontdict</span><span class="o">=</span><span class="n">font_title</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">operation</span> <span class="o">==</span> <span class="s1">&#39;pairplot&#39;</span><span class="p">:</span>
         <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">12</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span> <span class="mi">200</span><span class="p">)</span>
         <span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">vars</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">markers</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">kind</span> <span class="o">=</span> <span class="s1">&#39;reg&#39;</span><span class="p">)</span>
         <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;relation between columns&#39;</span><span class="p">,</span> <span class="n">fontdict</span><span class="o">=</span><span class="n">font_title</span><span class="p">)</span>
         <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

         



<div class="viewcode-block" id="Blood_Pressure">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Blood_Pressure">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Blood_Pressure</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span><span class="n">operation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd"> Blood is divided into two main values: systolic blood pressure and diastolic blood pressure.</span>
<span class="sd"> Systolic blood pressure represents the blood pressure at the moment the heart muscle contracts,</span>
<span class="sd"> while diastolic blood pressure represents the blood pressure at the moment the heart muscle relaxes.</span>

<span class="sd"> This function gives us their average systolic and diastolic blood pressure</span>
<span class="sd"> And it shows us the blood pressure chart of 40-year-old Balinese people</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data1 : int</span>
<span class="sd">        systolic,diastolic</span>
<span class="sd">    operation : strig</span>
<span class="sd">    operator</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">a</span><span class="o">=</span><span class="n">data1</span><span class="p">[</span><span class="s1">&#39;Systolic&#39;</span><span class="p">]</span>
    <span class="n">b</span><span class="o">=</span><span class="n">data1</span><span class="p">[</span><span class="s1">&#39;Diastolic&#39;</span><span class="p">]</span>
    
   
    <span class="k">if</span> <span class="n">operation</span><span class="o">==</span><span class="s1">&#39;average1&#39;</span><span class="p">:</span>
     <span class="n">c</span><span class="o">=</span><span class="n">b</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
     <span class="k">return</span> <span class="n">c</span>
    <span class="k">if</span> <span class="n">operation</span><span class="o">==</span><span class="s1">&#39;average2&#39;</span><span class="p">:</span>
        <span class="n">c</span><span class="o">=</span><span class="n">a</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">c</span>
    <span class="k">if</span> <span class="n">operation</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="n">ms</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">mec</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Systolic&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Diastolic&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Blood_Pressure&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

        
        
        
<div class="viewcode-block" id="Pulse">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Pulse">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Pulse</span><span class="p">(</span><span class="n">data2</span><span class="p">,</span><span class="n">operation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function gives us the maximum and minimum pulse of people over forty years old </span>
<span class="sd">    in the test and draws the pulse graph of people.</span>
<span class="sd">    And by using the frequency of the pulses, it is obtained</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data2 : int</span>
<span class="sd">        Pulse</span>
<span class="sd">    operation : string</span>
<span class="sd">        operator</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">p</span><span class="o">=</span><span class="n">data2</span><span class="p">[</span><span class="s1">&#39;pulse&#39;</span><span class="p">]</span> 
    <span class="k">if</span> <span class="n">operation</span><span class="o">==</span><span class="s1">&#39;maximum&#39;</span><span class="p">:</span>
        <span class="n">c</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">c</span>
    <span class="k">if</span> <span class="n">operation</span><span class="o">==</span><span class="s1">&#39;minimum&#39;</span><span class="p">:</span>
        <span class="n">c</span><span class="o">=</span><span class="n">p</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">c</span>
    <span class="k">if</span> <span class="n">operation</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Pulse&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

        





<div class="viewcode-block" id="Color_Feature">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Color_Feature">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Color_Feature</span><span class="p">(</span><span class="n">filee</span><span class="p">,</span><span class="n">kar</span><span class="p">):</span>
<span class="w">    </span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    filee : DataFrame</span>
<span class="sd">        data from excel.</span>
<span class="sd">    kar : str</span>
<span class="sd">        plot or calculate?</span>

<span class="sd">    Returns</span>
<span class="sd">    a number as a delta_E : array or plot a diagram</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">l</span><span class="o">=</span><span class="n">filee</span><span class="p">[</span><span class="s1">&#39;l&#39;</span><span class="p">]</span>
    <span class="n">a</span><span class="o">=</span> <span class="n">filee</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
    <span class="n">b</span><span class="o">=</span> <span class="n">filee</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">kar</span><span class="o">==</span><span class="s1">&#39;calculate&#39;</span><span class="p">:</span>
        <span class="n">l_</span><span class="o">=</span><span class="p">[]</span>
        <span class="n">a_</span><span class="o">=</span><span class="p">[]</span>
        <span class="n">b_</span><span class="o">=</span><span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
            <span class="n">l_</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="o">-</span><span class="n">l</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
            <span class="n">a_</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="o">-</span><span class="n">a</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">b</span><span class="p">:</span>
            <span class="n">b_</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="o">-</span><span class="n">b</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
        
        <span class="n">sum1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">l_</span><span class="p">,</span><span class="n">a_</span><span class="p">)</span>
        <span class="n">sum_</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sum1</span><span class="p">,</span><span class="n">b_</span><span class="p">)</span>
        <span class="n">squrt_</span><span class="o">=</span><span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">sum_</span><span class="p">:</span>
            <span class="n">squrt_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="n">delta_E</span><span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">squrt_</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">delta_E</span>
    <span class="k">if</span> <span class="n">kar</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
         <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
         <span class="n">ax</span><span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span><span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
         <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;l*&#39;</span><span class="p">)</span>
         <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;a*&#39;</span><span class="p">)</span>
         <span class="n">img</span><span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
         <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;l* a* b* of color&#39;</span><span class="p">)</span>
         <span class="n">img</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>





<div class="viewcode-block" id="Particles_Size">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Particles_Size">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Particles_Size</span><span class="p">(</span><span class="n">filee1</span><span class="p">,</span><span class="n">kar1</span><span class="p">):</span>
<span class="w">    </span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    </span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    filee1 : DataFrame</span>
<span class="sd">        Data from excel.</span>
<span class="sd">    kar1 : str</span>
<span class="sd">        plot or calculation.</span>

<span class="sd">    Returns</span>
<span class="sd">    a number as an average size or plot a diagram.</span>
<span class="sd">    </span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">x</span><span class="o">=</span> <span class="n">filee1</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">]</span>
    <span class="n">y</span><span class="o">=</span> <span class="n">filee1</span><span class="p">[</span><span class="s1">&#39;distribution&#39;</span><span class="p">]</span>
    
    <span class="k">if</span> <span class="n">kar1</span><span class="o">==</span><span class="s1">&#39;calculate&#39;</span><span class="p">:</span>
        <span class="n">size</span><span class="o">=</span><span class="n">filee1</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">]</span>
        <span class="n">average</span><span class="o">=</span><span class="n">statistics</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;your average size is:&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">average</span>
    <span class="k">if</span> <span class="n">kar1</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="n">x</span><span class="o">=</span> <span class="n">filee1</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">]</span>
        <span class="n">y</span><span class="o">=</span> <span class="n">filee1</span><span class="p">[</span><span class="s1">&#39;distribution&#39;</span><span class="p">]</span>
        <span class="n">font_x</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;Times New Roman&#39;</span><span class="p">,</span>
             <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;k&#39;</span><span class="p">,</span>
              <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="s1">&#39;15&#39;</span><span class="p">}</span>
        <span class="n">font_y</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;Times New Roman&#39;</span><span class="p">,</span>
             <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;k&#39;</span><span class="p">,</span>
              <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="s1">&#39;15&#39;</span><span class="p">}</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;size(nm)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_x</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;intensity(%)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_y</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span></div>

        
    

    

<div class="viewcode-block" id="Price_Change">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Price_Change">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Price_Change</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">operation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : Csv File</span>
<span class="sd">        data ha darbare vizhegi haye gheymat yek saham dar yek rooz mibashad</span>
<span class="sd">    descrription</span>
<span class="sd">     </span>
<span class="sd">    operation : az beyn &quot;mohasebe&quot; va &quot;plot&quot;yeki ra entekhab konid</span>
<span class="sd">    in function bishtarin va kamtarin gheymat saham dar yek rooz ra migirad</span>
<span class="sd">    va damane taghyirat gheymat ra ba &quot;plot&quot;rasm mikonad va ba &quot;mohasebe&quot;</span>
<span class="sd">    return mikonad</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">operation</span><span class="o">==</span><span class="s2">&quot;plot&quot;</span><span class="p">:</span>
         <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">High</span> <span class="o">-</span> <span class="n">data</span><span class="o">.</span><span class="n">Low</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">operation</span><span class="o">==</span><span class="s2">&quot;mohasebe&quot;</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;taghyir&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;High&#39;</span><span class="p">]</span><span class="o">-</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Low&#39;</span><span class="p">]</span>
        <span class="n">new_data</span><span class="o">=</span><span class="n">data</span><span class="p">[[</span><span class="s2">&quot;High&quot;</span><span class="p">,</span><span class="s2">&quot;Low&quot;</span><span class="p">,</span><span class="s2">&quot;taghyir&quot;</span><span class="p">]]</span>
        <span class="k">return</span> <span class="n">new_data</span><span class="p">[</span><span class="s2">&quot;taghyir&quot;</span><span class="p">]</span> </div>

       



<div class="viewcode-block" id="New_Case_Corona_Propotion">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.New_Case_Corona_Propotion">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">New_Case_Corona_Propotion</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">operation</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39; Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : Csv File</span>
<span class="sd">        data hayi darbare amar corona virus dar keshvar haye mokhtalef</span>
<span class="sd">    operation : az beyn &quot;plot&quot; va &quot;nesbat&quot; yeki ra mitavanid entekhab konid</span>
<span class="sd">        in tabe nesbat new case haye coronavirus be case haye ghabli ra </span>
<span class="sd">        ba &quot;plot&quot; rasm mikonad va ba &quot;nesbat&quot; return mikonad</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">operation</span><span class="o">==</span><span class="s2">&quot;plot&quot;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Cases</span><span class="o">-</span><span class="n">data</span><span class="o">.</span><span class="n">New_cases</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">operation</span><span class="o">==</span><span class="s2">&quot;nesbat&quot;</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;New_Propotion&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;New_cases&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Cases&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">New_Propotion</span></div>






<div class="viewcode-block" id="Load_Position_Convertor">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Load_Position_Convertor">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Load_Position_Convertor</span><span class="p">(</span><span class="n">Data</span><span class="p">,</span><span class="n">Operation</span><span class="p">,</span><span class="n">Area</span><span class="p">,</span><span class="n">Length</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function receives an input file containing Load-Position data, as well as the cross-sectional area and gauge length of the part, and according to the user&#39;s needs, it can:</span>
<span class="sd">    1-Load-Position Curve (LPC)</span>
<span class="sd">    2-Stress-Strain Calculation (SSCal)</span>
<span class="sd">    3-Stress-Strain Curve (SSC)</span>
<span class="sd">    4-Normalized Stress-Strain Calculation (NSSCal)  </span>
<span class="sd">    5-Normalized Stress-Strain Curve (NSSC) </span>
<span class="sd">    6-Energy Absorption Density Calculation (EADCal)</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    Data : xlsx</span>
<span class="sd">        Need two columns containing Load-Position information.</span>
<span class="sd">    Operation : str</span>
<span class="sd">        It specifies the process that should be performed on the entered information.</span>
<span class="sd">    Area : float</span>
<span class="sd">        The surface examined in the tensile or compression test.</span>
<span class="sd">    Length : TYPE</span>
<span class="sd">        Gauge length checked in tension or compression test.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    EAD : float</span>
<span class="sd">        Energy absorption desity of meta-materials such as metal foams.</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">Load</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;Load (kN)&#39;</span><span class="p">])</span>
    <span class="n">Position</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;Position (mm)&#39;</span><span class="p">])</span>

    
    <span class="k">if</span> <span class="n">Operation</span><span class="o">==</span><span class="s1">&#39;Load-Position Curve&#39;</span> <span class="ow">or</span> <span class="s1">&#39;LPC&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Position</span><span class="p">,</span><span class="n">Load</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;teal&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
        <span class="n">title_font</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;times new roman&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="s1">&#39;14&#39;</span><span class="p">}</span>
        <span class="n">label_font</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;times new roman&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="s1">&#39;12&#39;</span><span class="p">}</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Load-Position&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">title_font</span><span class="p">,</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span><span class="n">pad</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Position (mm)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">label_font</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">Position</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Load (kN)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">label_font</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">Load</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">Operation</span><span class="o">==</span><span class="s1">&#39;Stress-Strain Calculation&#39;</span> <span class="ow">or</span> <span class="s1">&#39;SSCal&#39;</span><span class="p">:</span>
        <span class="n">Strain</span><span class="o">=</span><span class="n">Position</span><span class="o">/</span><span class="n">Length</span>
        <span class="n">Stress</span><span class="o">=</span><span class="p">(</span><span class="n">Load</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span><span class="o">/</span><span class="n">Area</span>
        <span class="n">Stress_Strain</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">dstack</span><span class="p">((</span><span class="n">Strain</span><span class="p">,</span><span class="n">Stress</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">Stress_Strain</span>
    <span class="k">elif</span> <span class="n">Operation</span><span class="o">==</span><span class="s1">&#39;Stress-Strain Curve&#39;</span> <span class="ow">or</span> <span class="s1">&#39;SSC&#39;</span><span class="p">:</span>
        <span class="n">Strain</span><span class="o">=</span><span class="n">Position</span><span class="o">/</span><span class="n">Length</span>
        <span class="n">Stress</span><span class="o">=</span><span class="p">(</span><span class="n">Load</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span><span class="o">/</span><span class="n">Area</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Strain</span><span class="p">,</span><span class="n">Stress</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;teal&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Stress-Strain&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">title_font</span><span class="p">,</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span><span class="n">pad</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Strain (-)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">label_font</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Stress (MPa)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">label_font</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">Operation</span><span class="o">==</span><span class="s1">&#39;Normal Stress-Strain Calculation&#39;</span> <span class="ow">or</span> <span class="s1">&#39;NSSCal&#39;</span><span class="p">:</span>
        <span class="n">N_Strain</span><span class="o">=</span><span class="n">Strain</span><span class="o">/</span><span class="n">Strain</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">N_Stress</span><span class="o">=</span><span class="n">Stress</span><span class="o">/</span><span class="n">Stress</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">N_Stress_Strain</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">dstack</span><span class="p">(</span><span class="n">N_Strain</span><span class="p">,</span><span class="n">N_Stress</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">N_Stress_Strain</span>
    <span class="k">elif</span> <span class="n">Operation</span><span class="o">==</span><span class="s1">&#39;Normal Stress-Strain Curve&#39;</span> <span class="ow">or</span> <span class="s2">&quot;NSSC&quot;</span><span class="p">:</span>
        <span class="n">N_Strain</span><span class="o">=</span><span class="n">Strain</span><span class="o">/</span><span class="n">Strain</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">N_Stress</span><span class="o">=</span><span class="n">Stress</span><span class="o">/</span><span class="n">Stress</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">N_Strain</span><span class="p">,</span><span class="n">N_Stress</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;teal&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Normal Stress-Strain&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">title_font</span><span class="p">,</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span><span class="n">pad</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Normal Strain (-)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">label_font</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Normal Stress (-)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">label_font</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">Operation</span><span class="o">==</span><span class="s1">&#39;EAD Calcultion&#39;</span> <span class="ow">or</span> <span class="s1">&#39;EADCal&#39;</span><span class="p">:</span>
        <span class="n">EAD</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">trapz</span><span class="p">(</span><span class="n">Stress</span><span class="p">,</span><span class="n">Strain</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">EAD</span></div>



   




<div class="viewcode-block" id="Brain_Data_example">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Brain_Data_example">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Brain_Data_example</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This function prompts the user to input values for sudiom and potasiom along with time increments,</span>
<span class="sd">    creates a DataFrame with the provided data, and returns it.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Initialize an empty dictionary to store the data</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
          <span class="s1">&#39;sudiom&#39;</span><span class="p">:[],</span>
          <span class="s1">&#39;potasiom&#39;</span><span class="p">:[],</span>
          <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="p">[]</span>  
    <span class="p">}</span>

    <span class="c1"># Prompt the user to enter the number of entries</span>
    <span class="n">Num_Entries</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Your entries ion ? --&gt; &#39;</span><span class="p">))</span>
    <span class="n">time</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Initial time value</span>
    <span class="n">counter</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># Initial counter value</span>

    <span class="c1"># Loop to input data from the user</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">Num_Entries</span><span class="p">):</span>
        <span class="n">sudiom</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;sudiom </span><span class="si">{</span><span class="n">counter</span><span class="si">}</span><span class="s1">: &#39;</span><span class="p">))</span>  <span class="c1"># Prompt for sudiom input</span>
        <span class="n">potasiom</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;potasiom </span><span class="si">{</span><span class="n">counter</span><span class="si">}</span><span class="s1">: &#39;</span><span class="p">))</span>  <span class="c1"># Prompt for potasiom input</span>
        <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># Increment counter</span>

        <span class="c1"># Append the input values to the data dictionary</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;sudiom&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sudiom</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;potasiom&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">potasiom</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>  <span class="c1"># Append the time value</span>
        <span class="n">time</span> <span class="o">+=</span> <span class="mf">0.1</span>  <span class="c1"># Increment time by 0.1 for each entry</span>

    <span class="c1"># Convert the data dictionary to a pandas DataFrame and return it</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span></div>


<div class="viewcode-block" id="Brain_Plot_3D">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Brain_Plot_3D">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Brain_Plot_3D</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This function takes a DataFrame containing sudiom, potasiom, and time data and plots</span>
<span class="sd">    them in both 2D and 3D. It also compares the mean values of sudiom and potasiom to decide</span>
<span class="sd">    which one to plot in 3D.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Create a new figure with a specified size</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

    <span class="c1"># Create subplots: one for 2D plot and one for 3D plot</span>
    <span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>
    <span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>

    <span class="c1"># Plot 2D lines for sudiom and potasiom</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sudiom&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Sudiom&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;potasiom&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Potasiom&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>

    <span class="c1"># Set labels and title for the 2D plot</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Time&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Values&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Sudiom and Potasiom&#39;</span><span class="p">)</span>

    <span class="c1"># Plot 3D points based on the mean values of sudiom and potasiom</span>
    <span class="k">if</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sudiom&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;potasiom&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">():</span>
        <span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sudiom&#39;</span><span class="p">],</span> <span class="n">zs</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;potasiom&#39;</span><span class="p">],</span> <span class="n">zdir</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Sudiom&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;potasiom&#39;</span><span class="p">],</span> <span class="n">zs</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;sudiom&#39;</span><span class="p">],</span> <span class="n">zdir</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Potasiom&#39;</span><span class="p">)</span>

    <span class="c1"># Set labels and title for the 3D plot</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Time&#39;</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Sudiom&#39;</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="s1">&#39;Potasiom&#39;</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Brain Data (3D)&#39;</span><span class="p">)</span>

    <span class="c1"># Add a legend to the 3D plot</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

    <span class="c1"># Show the plots</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>





<span class="sd">&#39;&#39;&#39;</span>

<span class="sd">#Importing experimental datas</span>
<span class="sd">Experimental_Datas=pd.read_excel(&#39;C://Users//nasim//Documents//python//Rejection-Flux.xlsx&#39;)</span>

<span class="sd">#operating condition of filteration</span>
<span class="sd">Dox_Size=1.68*10**-9 #m (Solute radius)</span>
<span class="sd">Pump_Pressure=4*10**5 #pa (Pressure of pump)</span>
<span class="sd">Bulk_Concentration=9.2*10**-5 #mol/m3 (Concentration of solute in polluted water)</span>

<span class="sd">#experimental Datas:</span>
<span class="sd">Pore_Sizes=np.array(Experimental_Datas[&#39;Membrane Pore Size &#39;])  </span>
<span class="sd">Experimental_Rejection=np.array(Experimental_Datas[&#39;Experimental Rejection&#39;])</span>
<span class="sd">Experimental_Flux=np.array(Experimental_Datas[&#39;Experimental Flux&#39;])</span>
<span class="sd">Experimental_Zeta=np.array(Experimental_Datas[&#39;Mean Zeta Potential (mV)&#39;])</span>
<span class="sd">Membrane_Code=np.array(Experimental_Datas[&#39;Membrane Name&#39;])</span>


<span class="sd">def Membrane_Rejection(Ex_R,Ex_J,rs,rp,Zeta,Cm,DelP):</span>
<span class="sd">    #constants:</span>
<span class="sd">    D=10**-9</span>
<span class="sd">    RR=8.314</span>
<span class="sd">    T=298</span>
<span class="sd">    </span>
<span class="sd">    #rejection calculation</span>
<span class="sd">    Calculated_Rejection=np.array([(1-2*(1-(rs/rp)**2)+(1-(rs/rp)**4))]) #Ferry-Rankin equation</span>
<span class="sd">   </span>
<span class="sd">    #error evaluation:</span>
<span class="sd">    errorr=abs((Ex_R-Calculated_Rejection)/Ex_R)</span>
<span class="sd">    error=np.array(errorr)</span>
<span class="sd">    Mean_Error=np.mean(error)</span>
<span class="sd">    if Mean_Error&lt;0.15: #if mean error is less than 15% the assumption that the separation performance is due to sieving mechanism, is true</span>
<span class="sd">        return Calculated_Rejection</span>
<span class="sd">        print(&#39;Separation performance is due to sieving mechanism&#39;)</span>

<span class="sd">    else:</span>
<span class="sd">        theta=rs/rp</span>
<span class="sd">        mean_theta=np.mean(theta)</span>
<span class="sd">        Ka=(1+3.867*theta-1.907*theta**2-0.834*theta**3)/(1+1.867*theta-0.741*theta**2) #convection steric hindreance factor</span>
<span class="sd">        </span>
<span class="sd">        a=[]</span>
<span class="sd">        for i in theta:</span>
<span class="sd">            a.append(math.log10(i))</span>
<span class="sd">        a1=np.array(a)    </span>
<span class="sd">        Kd=((1+(9/8)*a1*theta-1.56*theta+0.53*theta**2+1.95*theta**3-2.82*theta**4+0.27*theta**5+1.1*theta**6-0.44*theta**7)/((1-theta)**2)) ##convection steric hindreance factor</span>
<span class="sd">        </span>
<span class="sd">        phiSi=(1-(rs/rp))**2</span>
<span class="sd">        </span>
<span class="sd">        exjka=[]</span>
<span class="sd">        JKa=Ex_J*Ka/Kd</span>
<span class="sd">        for i in JKa:</span>
<span class="sd">            exjka.append(np.exp(-0.11*10**6*i))</span>
<span class="sd">      </span>
<span class="sd">        #rejection calculation</span>
<span class="sd">        Calculated_Rejection2=1-((Ka*phiSi)/(1-(1-Ka*phiSi)*exjka)) #Simplified DSPM-DE Model</span>
<span class="sd">        </span>
<span class="sd">        #error evaluation:</span>
<span class="sd">        errorrr=abs((Ex_R-Calculated_Rejection2)/Ex_R)</span>
<span class="sd">        error2=np.array(errorrr)</span>
<span class="sd">        Mean_Error2=np.mean(error2)</span>
<span class="sd">        if Mean_Error2&lt;0.15:</span>
<span class="sd">            print(&#39;Separation performance is due to Sieving Mechanism &amp; Hindrance Transport&#39;)</span>
<span class="sd">            return Calculated_Rejection2</span>
<span class="sd">        else:</span>
<span class="sd">            Xd=-0.00027+0.001*Zeta</span>
<span class="sd">            </span>
<span class="sd">            plt.plot(Xd,Zeta,marker=&#39;o&#39;,ms=10,mec=&#39;palevioletred&#39;,mfc=&#39;palevioletred&#39;,color=&#39;TEAL&#39;,linewidth=5)</span>
<span class="sd">            </span>
<span class="sd">            ax = plt.gca()</span>
<span class="sd">            ax.set_facecolor(&#39;ghostwhite&#39;)</span>

<span class="sd">            font_t={&#39;family&#39;:&#39;serif&#39;,&#39;color&#39;:&#39;black&#39;,&#39;size&#39;:15}</span>
<span class="sd">            font_x={&#39;family&#39;:&#39;serif&#39;,&#39;color&#39;:&#39;black&#39;,&#39;size&#39;:10}</span>
<span class="sd">            font_y={&#39;family&#39;:&#39;serif&#39;,&#39;color&#39;:&#39;black&#39;,&#39;size&#39;:10}</span>

<span class="sd">            plt.title(&#39;Zeta Potential vs Xd&#39;,fontdict=font_t)</span>
<span class="sd">            plt.xlabel(&#39;Membrane Pore Density (mol/lit)&#39;,fontdict=font_x)</span>
<span class="sd">            plt.ylabel(&#39;Zeta Potential (mV)&#39;,fontdict=font_y)</span>
<span class="sd">            </span>
<span class="sd">            </span>
<span class="sd">            etha=abs(Xd/Cm)</span>
<span class="sd">            sigma=1-2/((etha)+(etha**2+4)**0.5)</span>
<span class="sd">            omega=D/(RR*T)*(1-sigma)</span>
<span class="sd">            Pe=0.14*10**-3*Ex_J/D</span>
<span class="sd">           </span>
<span class="sd">            FF=[]</span>
<span class="sd">            n=(-(1-sigma)*D*Pe/(RR*T*omega))</span>
<span class="sd">            for i in n:</span>
<span class="sd">                FF.append(np.exp(i))</span>
<span class="sd">            F=np.array(FF)</span>
<span class="sd">            </span>
<span class="sd">            #rejection calculation</span>
<span class="sd">            Calculated_Rejection3=sigma*(1-F)/(1-sigma*F) #Spiegler-Kedem equation           </span>
<span class="sd">            print(&#39;Separation performance is due to Donnan Effect&#39;)</span>
<span class="sd">            return Calculated_Rejection3</span>

<span class="sd">Rejection=Membrane_Rejection(Experimental_Rejection,Experimental_Flux,Dox_Size,Pore_Sizes,Experimental_Zeta,Bulk_Concentration,Pump_Pressure)</span>

<span class="sd">print (Rejection)</span>

<span class="sd">eror=abs(Experimental_Rejection-Rejection/Experimental_Rejection)</span>
<span class="sd">eror=np.array(eror)</span>
<span class="sd">Mean_Eror=np.mean(eror)*100</span>

<span class="sd">m=&#39;average error in this model is &#39;+ str(Mean_Eror) +&#39; percent&#39;</span>
<span class="sd">print(m)</span>

<span class="sd">&#39;&#39;&#39;</span>

<span class="c1">#________________________________Flux Calculation______________________________</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="sd">#Importing experimental datas</span>
<span class="sd">Experimental_Datas=pd.read_excel(&#39;C://Users//nasim//Documents//python//Flux.xlsx&#39;)</span>
<span class="sd">Pump_DeltaP=4*10**5</span>
<span class="sd">Diffusivity=10**-9</span>
<span class="sd">Thickness=0.11*10**-3</span>
<span class="sd">Bulk_Concentration=9.2*10**-5</span>
<span class="sd">Pore_Size=np.array(Experimental_Datas[&#39;Pore Size&#39;])</span>
<span class="sd">Porosity=np.array(Experimental_Datas[&#39;Porosity&#39;])</span>
<span class="sd">Membrane_Code=np.array(Experimental_Datas[&#39;Membrane Code&#39;]) </span>
<span class="sd">Permeat_Concentration=np.array(Experimental_Datas[&#39;Permeate Concentration&#39;])</span>

<span class="sd">def Membrane_Flux(r,e,p,l,Cp,Cb):</span>
<span class="sd">    mean_pore_size=np.mean(Pore_Size)</span>
<span class="sd">    if mean_pore_size&lt;1*10**-9:</span>
<span class="sd">        J=(D*(Cb-Cp))/l</span>
<span class="sd">        print(&#39;Membrane is dense and permeability should be calculated based on Darcy law.&#39;)</span>
<span class="sd">    else:</span>
<span class="sd">        J=(r**2*e*p)/(8*10**-3*l)</span>
<span class="sd">        print(&#39;Membrane is porous and permeability should be calculated based on Hagen–Poiseuille equation.&#39;)</span>
<span class="sd">    return J</span>
<span class="sd">Flux=Membrane_Flux(Pore_Size,Porosity,Pump_DeltaP,Thickness,Permeat_Concentration,Bulk_Concentration)</span>

<span class="sd">plt.bar(Membrane_Code,Flux,color=&#39;mediumvioletred&#39;, width=0.3)</span>


<span class="sd">font_ttt={&#39;family&#39;:&#39;serif&#39;,&#39;color&#39;:&#39;black&#39;,&#39;size&#39;:15}</span>
<span class="sd">font_xxx={&#39;family&#39;:&#39;serif&#39;,&#39;color&#39;:&#39;black&#39;,&#39;size&#39;:10}</span>
<span class="sd">font_yyy={&#39;family&#39;:&#39;serif&#39;,&#39;color&#39;:&#39;black&#39;,&#39;size&#39;:10}</span>

<span class="sd">plt.title(&#39;Mmebrane Flux&#39;,fontdict=font_ttt,pad=25)</span>
<span class="sd">plt.xlabel(&#39;Membrane code&#39;,fontdict=font_xxx)</span>
<span class="sd">plt.ylabel(&#39;Mmebrane Pure Water Flux (m/s) &#39;,fontdict=font_yyy)</span>
<span class="sd">plt.show()</span>

<span class="sd">#________________________________Film Treory___________________________________</span>

<span class="sd">#Importing experimental datas</span>
<span class="sd">Experimental_Datas=pd.read_excel(&#39;C://Users//nasim//Documents//python//Film Theory.xlsx&#39;)</span>

<span class="sd">Membrane_length=0.09</span>
<span class="sd">Mmembrane_width=0.04 </span>
<span class="sd">Mmebrane_thickness=0.11 *10**-3</span>
<span class="sd">Velocity=0.5</span>
<span class="sd">Bulk_Concentration=9.2*10**-5</span>
<span class="sd">Permeate_Concentration=np.array(Experimental_Datas[&#39;Permeate Concentration&#39;]) </span>
<span class="sd">Flux=np.array(Experimental_Datas[&#39;Flux&#39;])</span>
<span class="sd">Membrane_Code=np.array(Experimental_Datas[&#39;Membrane Code&#39;]) </span>

<span class="sd">def Membrane_Concentration(a,b,u,J,Cb,Cp,l):</span>
<span class="sd">    dh=4*a*b/(a+b)</span>
<span class="sd">    Re=1000*u*dh/(10**-3)</span>
<span class="sd">    Sc=10**-3/(1000*10**-9)</span>
<span class="sd">    k=((0.664*Re**0.5*Sc**0.33*(dh/l)**0.5)*10**-9)/dh</span>
<span class="sd">   </span>
<span class="sd">    v=[]</span>
<span class="sd">    Jk=J/k</span>
<span class="sd">    for i in Jk:</span>
<span class="sd">        v.append(np.exp(i))</span>
<span class="sd">    </span>
<span class="sd">    Cm=(Cb-Cp)*v+Cp</span>
<span class="sd">    Polarization=(Cm-Cb)/Cb</span>
<span class="sd">    mean_Polarization=np.mean(Polarization)</span>
<span class="sd">    </span>
<span class="sd">    if mean_Polarization&lt;0.05:</span>
<span class="sd">        print(&#39;Concentration polarization is neglible. So, membrane has a low probability for fouling.&#39;)</span>
<span class="sd">    else:</span>
<span class="sd">        print(&#39;Concentration polarization is high. So, fouling may occures.&#39;)</span>
<span class="sd">    </span>

<span class="sd">    return(Cm)</span>
<span class="sd">    </span>
<span class="sd">Membrane_Surface_Concentration=Membrane_Concentration(Membrane_length,Mmembrane_width,Velocity,Flux,Bulk_Concentration,Permeate_Concentration,Mmebrane_thickness)</span>

<span class="sd">plt.bar(Membrane_Code, Membrane_Surface_Concentration,color=&#39;mediumvioletred&#39;, width=0.3)</span>


<span class="sd">font_tt={&#39;family&#39;:&#39;serif&#39;,&#39;color&#39;:&#39;black&#39;,&#39;size&#39;:15}</span>
<span class="sd">font_xx={&#39;family&#39;:&#39;serif&#39;,&#39;color&#39;:&#39;black&#39;,&#39;size&#39;:10}</span>
<span class="sd">font_yy={&#39;family&#39;:&#39;serif&#39;,&#39;color&#39;:&#39;black&#39;,&#39;size&#39;:10}</span>

<span class="sd">plt.title(&#39;Mmebrane Surface Concentration&#39;,fontdict=font_tt,pad=20)</span>
<span class="sd">plt.xlabel(&#39;Membrane code&#39;,fontdict=font_xx)</span>
<span class="sd">plt.ylabel(&#39;Cm&#39;,fontdict=font_yy)</span>
<span class="sd">plt.show()</span>


<span class="sd">&#39;&#39;&#39;</span>







<div class="viewcode-block" id="SI_Calculation">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.SI_Calculation">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">SI_Calculation</span><span class="p">(</span><span class="n">f_loc</span><span class="p">,</span><span class="n">P</span><span class="p">,</span><span class="n">PC</span><span class="p">,</span><span class="n">Density</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>

<span class="w">    </span>

<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>

<span class="sd">    This function is used for Separation Index Calculation</span>
<span class="sd">    </span>

<span class="sd">    P : Pressure (bar)</span>

<span class="sd">    Density : Feed Density(g/cm3)</span>

<span class="sd">    PC :  Pollutant concentration in Feed (g/L)</span>

<span class="sd">    Returns Separation Index and Flux &amp; Rejection &amp; Rejection Charts</span>

<span class="sd">    &#39;&#39;&#39;</span>

    

    <span class="n">Data</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">f_loc</span><span class="p">)</span>

    <span class="n">Data</span><span class="o">.</span><span class="n">columns</span>

    <span class="n">J</span><span class="o">=</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;Flux&#39;</span><span class="p">]</span>

    <span class="n">R</span><span class="o">=</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;Rejection&#39;</span><span class="p">]</span>



    <span class="n">SI</span><span class="o">=</span><span class="p">(</span><span class="n">Density</span><span class="o">-</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">R</span><span class="p">)</span><span class="o">*</span><span class="n">PC</span><span class="o">/</span><span class="mi">1000</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">J</span><span class="o">/</span><span class="p">(</span><span class="n">P</span><span class="o">*</span><span class="p">((</span><span class="mi">1</span><span class="o">-</span><span class="n">R</span><span class="p">)</span><span class="o">**</span><span class="mf">0.41</span><span class="p">)))</span>

    <span class="n">Mem_Code</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;Mem Code&#39;</span><span class="p">])</span>

    <span class="n">Flux</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;Flux&#39;</span><span class="p">])</span>

    <span class="n">Rejection</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;Rejection&#39;</span><span class="p">])</span>



    <span class="n">font</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;serif&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;k&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="s1">&#39;20&#39;</span><span class="p">}</span>

    

    <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">Flux</span><span class="p">)):</span>

        <span class="k">if</span> <span class="n">Flux</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">100</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;.&#39;</span><span class="p">])</span>

            <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">c</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

        <span class="k">elif</span> <span class="n">Flux</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">200</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;o&#39;</span><span class="p">])</span>

            <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">c</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;O&#39;</span><span class="p">])</span>

            <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">c</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

    

    <span class="n">bar_labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;.:Low Flux&#39;</span><span class="p">,</span><span class="s1">&#39;o:Medium Flux&#39;</span><span class="p">,</span><span class="s1">&#39;O:High Flux&#39;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">Flux</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="p">):</span>

        <span class="n">m</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;_.&#39;</span><span class="p">]</span>

        <span class="n">bar_labels</span><span class="o">=</span><span class="n">bar_labels</span><span class="o">+</span><span class="n">m</span>

        

    <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">Mem_Code</span><span class="p">,</span><span class="n">Flux</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="n">hatch</span><span class="o">=</span><span class="n">c</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">yerr</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">ecolor</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">bar_labels</span><span class="p">)</span>   

    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Flux Chart&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Membrane code&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Flux&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Flux Range&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    

    <span class="n">d</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">Rejection</span><span class="p">)):</span>

        <span class="k">if</span> <span class="n">Rejection</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="mf">0.6</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;.&#39;</span><span class="p">])</span>

            <span class="n">d</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">d</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

        <span class="k">elif</span> <span class="n">Rejection</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="mf">0.75</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;o&#39;</span><span class="p">])</span>

            <span class="n">d</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">d</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;O&#39;</span><span class="p">])</span>

            <span class="n">d</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">d</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

    

    <span class="n">bar_labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;.:Low Rejection&#39;</span><span class="p">,</span><span class="s1">&#39;o:Medium Rejection&#39;</span><span class="p">,</span><span class="s1">&#39;O:High Rejection&#39;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">Rejection</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="p">):</span>

        <span class="n">m</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;_.&#39;</span><span class="p">]</span>

        <span class="n">bar_labels</span><span class="o">=</span><span class="n">bar_labels</span><span class="o">+</span><span class="n">m</span>

        

    <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">Mem_Code</span><span class="p">,</span><span class="n">Rejection</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="n">hatch</span><span class="o">=</span><span class="n">d</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">yerr</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span><span class="n">ecolor</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">bar_labels</span><span class="p">)</span>   

    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Rejection Chart&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Membrane code&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Rejection&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Rejection Range&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    

    <span class="n">f</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">SI</span><span class="p">)):</span>

        <span class="k">if</span> <span class="n">SI</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">250</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;.&#39;</span><span class="p">])</span>

            <span class="n">f</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">f</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

        <span class="k">elif</span> <span class="n">SI</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">500</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;o&#39;</span><span class="p">])</span>

            <span class="n">f</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">f</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;O&#39;</span><span class="p">])</span>

            <span class="n">f</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">f</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

    

    <span class="n">bar_labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;.:Low SI&#39;</span><span class="p">,</span><span class="s1">&#39;o:Medium SI&#39;</span><span class="p">,</span><span class="s1">&#39;O:High SI&#39;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">SI</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="p">):</span>

        <span class="n">m</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;_.&#39;</span><span class="p">]</span>

        <span class="n">bar_labels</span><span class="o">=</span><span class="n">bar_labels</span><span class="o">+</span><span class="n">m</span>

        

    <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">Mem_Code</span><span class="p">,</span><span class="n">SI</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="n">hatch</span><span class="o">=</span><span class="n">f</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">yerr</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">ecolor</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">bar_labels</span><span class="p">)</span>   

    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;SI Chart&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Membrane code&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;SI&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;SI Range&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>    

    

    <span class="k">return</span> <span class="n">SI</span></div>








<div class="viewcode-block" id="Porosity">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Porosity">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Porosity</span><span class="p">(</span><span class="n">e_loc</span><span class="p">,</span><span class="n">Density</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>

<span class="w">    </span>

<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>

<span class="sd">    Ww : weight of wet samples (g)</span>

<span class="sd">    Wd : weight of dry samples (g)</span>

<span class="sd">    V : denotes the sample volume (cm3)</span>

<span class="sd">    Density : is the water density (g/cm3).The default is 1.</span>

<span class="sd">    Returns the porosity of membranes</span>

<span class="sd">    &#39;&#39;&#39;</span>

    

    <span class="n">Porosity_Data</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">e_loc</span><span class="p">)</span>

    <span class="n">Porosity_Data</span><span class="o">.</span><span class="n">columns</span>

    <span class="n">Ww</span><span class="o">=</span><span class="n">Porosity_Data</span><span class="p">[</span><span class="s1">&#39;Ww&#39;</span><span class="p">]</span>

    <span class="n">Wd</span><span class="o">=</span><span class="n">Porosity_Data</span><span class="p">[</span><span class="s1">&#39;Wd&#39;</span><span class="p">]</span>

    <span class="n">V</span><span class="o">=</span><span class="n">Porosity_Data</span><span class="p">[</span><span class="s1">&#39;V&#39;</span><span class="p">]</span>

    

    <span class="n">Porosity</span><span class="o">=</span><span class="p">(</span><span class="n">Ww</span><span class="o">-</span><span class="n">Wd</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">Density</span><span class="o">*</span><span class="n">V</span><span class="p">)</span>

    <span class="n">membrane</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Porosity_Data</span><span class="p">[</span><span class="s1">&#39;membrane&#39;</span><span class="p">])</span>



    <span class="n">font</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;serif&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;k&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="s1">&#39;20&#39;</span><span class="p">}</span>

    

    <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">Porosity</span><span class="p">)):</span>

        <span class="k">if</span> <span class="n">Porosity</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="mf">0.9</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;.&#39;</span><span class="p">])</span>

            <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">c</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

        <span class="k">elif</span> <span class="n">Porosity</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;o&#39;</span><span class="p">])</span>

            <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">c</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;O&#39;</span><span class="p">])</span>

            <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">c</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

    

    <span class="n">bar_labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;.:Low Porosity&#39;</span><span class="p">,</span><span class="s1">&#39;o:Medium Porosity&#39;</span><span class="p">,</span><span class="s1">&#39;O:High Porosity&#39;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">Porosity</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="p">):</span>

        <span class="n">m</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;_.&#39;</span><span class="p">]</span>

        <span class="n">bar_labels</span><span class="o">=</span><span class="n">bar_labels</span><span class="o">+</span><span class="n">m</span>

        

    <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">membrane</span><span class="p">,</span><span class="n">Porosity</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="n">hatch</span><span class="o">=</span><span class="n">c</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">yerr</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span><span class="n">ecolor</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">bar_labels</span><span class="p">)</span>   

    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Porosity Chart&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;membrane&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Porosity&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Porosity Range&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    

    <span class="k">return</span> <span class="n">Porosity</span></div>





<div class="viewcode-block" id="Tortuosity">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Tortuosity">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Tortuosity</span><span class="p">(</span><span class="n">e_loc</span><span class="p">):</span>

<span class="w">    </span>

<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>

<span class="sd">    Returns the Pore Tortuosity of membranes</span>

<span class="sd">    &#39;&#39;&#39;</span>

    

    <span class="n">Porosity_Data</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">e_loc</span><span class="p">)</span>

    <span class="n">Tortuosity</span><span class="o">=</span><span class="p">((</span><span class="mi">2</span><span class="o">-</span><span class="n">Porosity</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="n">Porosity</span>

    <span class="n">membrane</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Porosity_Data</span><span class="p">[</span><span class="s1">&#39;membrane&#39;</span><span class="p">])</span>



    <span class="n">font</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;serif&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;k&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="s1">&#39;20&#39;</span><span class="p">}</span>

    

    <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">Tortuosity</span><span class="p">)):</span>

        <span class="k">if</span> <span class="n">Tortuosity</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="mf">0.75</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;.&#39;</span><span class="p">])</span>

            <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">c</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

        <span class="k">elif</span> <span class="n">Tortuosity</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="mf">1.25</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;o&#39;</span><span class="p">])</span>

            <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">c</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;O&#39;</span><span class="p">])</span>

            <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">c</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

    

    <span class="n">bar_labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;.:Low Tortuosity&#39;</span><span class="p">,</span><span class="s1">&#39;o:Medium Tortuosity&#39;</span><span class="p">,</span><span class="s1">&#39;O:High Tortuosity&#39;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">Tortuosity</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="p">):</span>

        <span class="n">m</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;_.&#39;</span><span class="p">]</span>

        <span class="n">bar_labels</span><span class="o">=</span><span class="n">bar_labels</span><span class="o">+</span><span class="n">m</span>

        

    <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">membrane</span><span class="p">,</span><span class="n">Tortuosity</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="n">hatch</span><span class="o">=</span><span class="n">c</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">yerr</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span><span class="n">ecolor</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">bar_labels</span><span class="p">)</span>   

    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Tortuosity Chart&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;membrane&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Tortuosity&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Tortuosity Range&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    

    <span class="k">return</span> <span class="n">Tortuosity</span></div>








<div class="viewcode-block" id="Pore_Size">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Pore_Size">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Pore_Size</span><span class="p">(</span><span class="n">g_loc</span><span class="p">,</span><span class="n">A</span><span class="p">,</span><span class="n">P</span><span class="p">,</span><span class="n">Vis</span><span class="o">=</span><span class="mf">8.9</span><span class="o">*</span><span class="mf">1e-4</span><span class="p">):</span>

<span class="w">    </span>

<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>

<span class="sd">    A=shows the membrane effective surface area (m2)</span>

<span class="sd">    P : indicates the utilized operational pressure (Pa)</span>

<span class="sd">    Vis : represents the water viscosity (Pa⋅s). The default is 8.9*1e-4.</span>

<span class="sd">    Returns the Pore Size of membranes in nm</span>

<span class="sd">    &#39;&#39;&#39;</span>

    

    <span class="n">Pore_Size_Data</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">g_loc</span><span class="p">)</span>

    <span class="n">Pore_Size_Data</span><span class="o">.</span><span class="n">columns</span>

    <span class="n">q</span><span class="o">=</span><span class="n">Pore_Size_Data</span><span class="p">[</span><span class="s1">&#39;q&#39;</span><span class="p">]</span>

    <span class="n">l</span><span class="o">=</span><span class="n">Pore_Size_Data</span><span class="p">[</span><span class="s1">&#39;l&#39;</span><span class="p">]</span>



    <span class="n">Pore_Size</span><span class="o">=</span><span class="p">((</span><span class="mf">2.9</span><span class="o">-</span><span class="mf">1.75</span><span class="o">*</span><span class="n">Porosity</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mi">8</span><span class="o">*</span><span class="n">Vis</span><span class="o">*</span><span class="n">q</span><span class="o">*</span><span class="n">l</span><span class="o">/</span><span class="mi">1000</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">Porosity</span><span class="o">*</span><span class="n">A</span><span class="o">*</span><span class="n">P</span><span class="p">))</span><span class="o">**</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">*</span><span class="mf">1E9</span>

    <span class="n">membrane</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Pore_Size_Data</span><span class="p">[</span><span class="s1">&#39;membrane&#39;</span><span class="p">])</span>



    <span class="n">font</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;serif&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;k&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="s1">&#39;20&#39;</span><span class="p">}</span>

    

    <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">Pore_Size</span><span class="p">)):</span>

        <span class="k">if</span> <span class="n">Pore_Size</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="mf">4.5</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;.&#39;</span><span class="p">])</span>

            <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">c</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

        <span class="k">elif</span> <span class="n">Pore_Size</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;</span><span class="mf">5.5</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;o&#39;</span><span class="p">])</span>

            <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">c</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;O&#39;</span><span class="p">])</span>

            <span class="n">c</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">c</span><span class="p">,</span><span class="n">a</span><span class="p">))</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

    

    <span class="n">bar_labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;.:Low Pore_Size&#39;</span><span class="p">,</span><span class="s1">&#39;o:Medium Pore_Size&#39;</span><span class="p">,</span><span class="s1">&#39;O:High Pore_Size&#39;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">Pore_Size</span><span class="p">)</span><span class="o">-</span><span class="mi">3</span><span class="p">):</span>

        <span class="n">m</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;_.&#39;</span><span class="p">]</span>

        <span class="n">bar_labels</span><span class="o">=</span><span class="n">bar_labels</span><span class="o">+</span><span class="n">m</span>

        

    <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">membrane</span><span class="p">,</span><span class="n">Pore_Size</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="n">hatch</span><span class="o">=</span><span class="n">c</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">yerr</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span><span class="n">ecolor</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">bar_labels</span><span class="p">)</span>   

    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Pore_Size Chart&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;membrane&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Pore Size&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Pore_Size Range&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    

    <span class="k">return</span> <span class="n">Pore_Size</span></div>









<div class="viewcode-block" id="Membrane_Rejection">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Membrane_Rejection">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Membrane_Rejection</span><span class="p">(</span><span class="n">Experimental_Datas</span><span class="p">):</span>
    <span class="n">Dox_Size</span><span class="o">=</span><span class="mf">1.68</span><span class="o">*</span><span class="mi">10</span><span class="o">**-</span><span class="mi">9</span> <span class="c1">#m</span>
    <span class="n">Pore_Sizes</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Experimental_Datas</span><span class="p">[</span><span class="s1">&#39;Membrane Pore Size &#39;</span><span class="p">])</span> 
    <span class="n">Calculated_Rejection</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="p">(</span><span class="n">Dox_Size</span><span class="o">/</span><span class="n">Pore_Sizes</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="p">(</span><span class="n">Dox_Size</span><span class="o">/</span><span class="n">Pore_Sizes</span><span class="p">)</span><span class="o">**</span><span class="mi">4</span><span class="p">))</span>
    <span class="n">Experimental_Rejection</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Experimental_Datas</span><span class="p">[</span><span class="s1">&#39;Experimental Rejection&#39;</span><span class="p">])</span>
    <span class="n">error</span><span class="o">=</span><span class="nb">abs</span><span class="p">((</span><span class="n">Experimental_Rejection</span><span class="o">-</span><span class="n">Calculated_Rejection</span><span class="p">)</span><span class="o">/</span><span class="n">Experimental_Rejection</span><span class="p">)</span>
    <span class="n">Mean_Error</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">Mean_Error</span><span class="o">&lt;</span><span class="mf">0.05</span><span class="p">:</span>
        <span class="n">Rejection</span><span class="o">=</span><span class="n">Calculated_Rejection</span>
        <span class="k">return</span><span class="p">(</span><span class="n">Rejection</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Separation performance is due to sieving mechanism&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">Zeta_Potential</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Experimental_Datas</span><span class="p">[</span><span class="s1">&#39;Mean Zeta Potential (mV)&#39;</span><span class="p">])</span>
        <span class="n">Xd</span><span class="o">=-</span><span class="mf">0.27</span><span class="o">+</span><span class="mf">2.8</span><span class="o">*</span><span class="n">Zeta_Potential</span> <span class="c1">#a corralation between zeta potential and membrane charge density. it is worth noty that zeta potential is a measurable parameter while,membrane charge density is not.</span>
        <span class="n">theta</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">Dox_Size</span><span class="o">/</span><span class="n">Pore_Sizes</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
        <span class="n">Kc</span> <span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="o">-</span><span class="n">theta</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mf">0.054</span><span class="o">*</span><span class="n">Dox_Size</span><span class="o">/</span><span class="n">Pore_Sizes</span><span class="o">-</span><span class="mf">0.988</span><span class="o">*</span><span class="p">(</span><span class="n">Dox_Size</span><span class="o">/</span><span class="n">Pore_Sizes</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mf">0.441</span><span class="o">*</span><span class="p">(</span><span class="n">Dox_Size</span><span class="o">/</span><span class="n">Pore_Sizes</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">Kd</span><span class="o">=</span><span class="mi">1</span><span class="o">-</span><span class="mf">2.3</span><span class="o">*</span><span class="n">Dox_Size</span><span class="o">/</span><span class="n">Pore_Sizes</span><span class="o">+</span><span class="mf">1.15</span><span class="o">*</span><span class="p">(</span><span class="n">Dox_Size</span><span class="o">/</span><span class="n">Pore_Sizes</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mf">0.224</span><span class="o">*</span><span class="p">(</span><span class="n">Dox_Size</span><span class="o">/</span><span class="n">Pore_Sizes</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span>
        <span class="n">C0</span><span class="o">=</span><span class="mf">9.2</span><span class="o">*</span><span class="mi">10</span><span class="o">**-</span><span class="mi">5</span>
        <span class="n">Cp</span><span class="o">=</span><span class="n">C0</span>
       
        <span class="k">def</span><span class="w"> </span><span class="nf">ODE_Function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">Cp</span><span class="p">):</span> <span class="c1">#Define simultaneous ODE equations</span>
            <span class="n">Experimental_J</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Experimental_Datas</span><span class="p">[</span><span class="s1">&#39;Experimental Flux&#39;</span><span class="p">])</span> 
            <span class="n">z</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">D</span><span class="o">=</span><span class="mi">10</span><span class="o">**-</span><span class="mi">9</span>
            <span class="n">Dp</span><span class="o">=</span><span class="n">Kd</span><span class="o">*</span><span class="n">D</span>
            <span class="n">dcdx</span> <span class="o">=</span> <span class="n">Experimental_J</span><span class="o">/</span><span class="n">Dp</span><span class="o">*</span><span class="p">(</span><span class="n">Kc</span><span class="o">*</span><span class="n">c</span><span class="o">-</span><span class="n">Cp</span><span class="p">)</span><span class="o">-</span><span class="n">z</span><span class="o">*</span><span class="n">c</span><span class="o">*</span><span class="p">(</span><span class="n">Experimental_J</span><span class="o">*</span><span class="n">z</span><span class="o">/</span><span class="n">Dp</span><span class="o">*</span><span class="p">(</span><span class="n">Kc</span><span class="o">*</span><span class="n">c</span><span class="o">-</span><span class="n">Cp</span><span class="p">))</span><span class="o">/</span><span class="p">((</span><span class="n">z</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">c</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">dcdx</span>
            
        <span class="k">def</span><span class="w"> </span><span class="nf">Boundary_Conditions</span><span class="p">(</span><span class="n">ca</span><span class="p">,</span><span class="n">cb</span><span class="p">,</span><span class="n">Cp</span><span class="p">):</span>
            <span class="n">T</span><span class="o">=</span><span class="mi">298</span>
            <span class="n">F</span><span class="o">=</span><span class="mi">96487</span>
            <span class="n">R</span><span class="o">=</span><span class="mf">8.314</span>
            <span class="n">z</span><span class="o">=</span><span class="mi">1</span>
        
            <span class="n">a1</span><span class="o">=</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">Xd</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">z</span><span class="o">*</span><span class="n">C0</span><span class="o">*</span><span class="n">theta</span><span class="p">))</span>
            <span class="n">phiDa</span><span class="o">=</span><span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a1</span><span class="p">:</span>
                <span class="n">phiDa</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">F</span><span class="o">*</span><span class="n">z</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">T</span><span class="p">))</span>
            <span class="n">phiDa_array</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">phiDa</span><span class="p">)</span>
            <span class="n">c0_m</span><span class="o">=</span><span class="n">C0</span><span class="o">*</span><span class="n">theta</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">F</span><span class="o">*</span><span class="n">z</span><span class="o">*</span><span class="n">phiDa_array</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">T</span><span class="p">)</span>
            
            <span class="n">a2</span><span class="o">=</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">Xd</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">z</span><span class="o">*</span><span class="n">Cp</span><span class="o">*</span><span class="n">theta</span><span class="p">))</span>
            <span class="n">phiDb</span><span class="o">=</span><span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a2</span><span class="p">:</span>
                <span class="n">phiDb</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">F</span><span class="o">*</span><span class="n">z</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">T</span><span class="p">))</span>
            <span class="n">phiDb_array</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">phiDb</span><span class="p">)</span>
            <span class="n">cb_m</span><span class="o">=</span><span class="n">Cp</span><span class="o">*</span><span class="n">theta</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">F</span><span class="o">*</span><span class="n">z</span><span class="o">*</span><span class="n">phiDb_array</span><span class="o">/</span><span class="n">R</span><span class="o">/</span><span class="n">T</span><span class="p">)</span>
                        
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">c0_m</span> <span class="o">-</span> <span class="n">ca</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">cb_m</span> <span class="o">-</span> <span class="n">cb</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.14</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
        <span class="n">y</span><span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">size</span><span class="p">))</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">Cp</span><span class="p">])</span>
        <span class="n">res</span><span class="o">=</span> <span class="n">solve_bvp</span><span class="p">(</span><span class="n">ODE_Function</span><span class="p">,</span><span class="n">Boundary_Conditions</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="p">)</span>
        <span class="n">x_plot</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.14</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
        <span class="n">res_plot</span><span class="o">=</span><span class="n">res</span><span class="o">.</span><span class="n">sol</span><span class="p">(</span><span class="n">x_plot</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">cp</span><span class="o">=</span> <span class="n">res_plot</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">Rejection</span><span class="o">=</span><span class="mi">1</span><span class="o">-</span><span class="n">cp</span><span class="o">/</span><span class="n">C0</span>
        <span class="k">return</span><span class="p">(</span><span class="n">Rejection</span><span class="p">)</span></div>










<div class="viewcode-block" id="XRD_Analysis2">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.XRD_Analysis2">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">XRD_Analysis2</span><span class="p">(</span><span class="n">file</span><span class="p">,</span><span class="n">which</span><span class="p">,</span><span class="n">peak</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    </span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    file : str</span>
<span class="sd">        the variable in which you saved the .cvs file path         </span>
<span class="sd">    which : str</span>
<span class="sd">        which operation you want to perform on the file      </span>
<span class="sd">    peak : float, optional</span>
<span class="sd">        2θ for the peak you want to analyse. The default is 0.     </span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    fwhm : float</span>
<span class="sd">        value of FWHM for the peak you specified.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="n">npar</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="n">angle</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;angle&#39;</span><span class="p">]</span>
        <span class="n">intensity</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;intensity&#39;</span><span class="p">]</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span><span class="n">intensity</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
        <span class="n">font_title</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;serif&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">20</span><span class="p">}</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;XRD pattern&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_title</span><span class="p">)</span>
        <span class="n">font_label</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;times new roman&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">15</span><span class="p">}</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;angle (2θ)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_label</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;intensity (a.u.)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">font_label</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="n">which</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">max</span><span class="p">(</span><span class="n">angle</span><span class="p">),</span><span class="mi">5</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.1</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">]])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="n">direction</span><span class="o">=</span><span class="s1">&#39;in&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">elif</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;fwhm&#39;</span><span class="p">:</span>
        <span class="n">diff</span><span class="o">=</span><span class="nb">int</span><span class="p">((</span><span class="n">npar</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">npar</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span><span class="o">/</span><span class="mi">2000</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">npar</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="o">-</span><span class="n">diff</span><span class="o">&lt;</span><span class="n">npar</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">peak</span><span class="o">&lt;</span><span class="n">diff</span><span class="p">:</span>
                <span class="n">pl</span><span class="o">=</span><span class="n">i</span>
                <span class="n">ph</span><span class="o">=</span><span class="n">i</span>
                <span class="n">p</span><span class="o">=</span><span class="n">i</span>
                <span class="k">break</span>
        <span class="k">while</span> <span class="n">pl</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">((</span><span class="n">npar</span><span class="p">[</span><span class="n">pl</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">npar</span><span class="p">[</span><span class="n">pl</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">npar</span><span class="p">[</span><span class="n">pl</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">npar</span><span class="p">[</span><span class="n">pl</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span><span class="o">&gt;</span><span class="mf">1.04</span> <span class="ow">and</span> <span class="p">(</span><span class="n">npar</span><span class="p">[</span><span class="n">pl</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span><span class="o">&lt;</span><span class="mf">0.4</span><span class="p">:</span>
                <span class="n">in_low_1</span><span class="o">=</span><span class="n">npar</span><span class="p">[</span><span class="n">pl</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>
            <span class="n">pl</span><span class="o">=</span><span class="n">pl</span><span class="o">-</span><span class="mi">1</span>
        <span class="k">while</span> <span class="n">ph</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">((</span><span class="n">npar</span><span class="p">[</span><span class="n">ph</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">npar</span><span class="p">[</span><span class="n">ph</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">npar</span><span class="p">[</span><span class="n">ph</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">npar</span><span class="p">[</span><span class="n">ph</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span><span class="o">&lt;</span><span class="mf">0.96</span> <span class="ow">and</span> <span class="p">(</span><span class="n">npar</span><span class="p">[</span><span class="n">ph</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">npar</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span><span class="o">&lt;</span><span class="mf">0.4</span><span class="p">:</span>
                <span class="n">in_low_2</span><span class="o">=</span><span class="n">npar</span><span class="p">[</span><span class="n">ph</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">break</span>
            <span class="n">ph</span><span class="o">=</span><span class="n">ph</span><span class="o">+</span><span class="mi">1</span>
        <span class="n">in_low</span><span class="o">=</span><span class="p">(</span><span class="n">in_low_1</span><span class="o">+</span><span class="n">in_low_2</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
        <span class="n">h</span><span class="o">=</span><span class="n">npar</span><span class="p">[</span><span class="n">p</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">in_low</span>
        <span class="n">hm</span><span class="o">=</span><span class="n">in_low</span><span class="o">+</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span>
        <span class="n">diff_in</span><span class="o">=</span><span class="p">[]</span>
        <span class="n">hm_i</span><span class="o">=</span><span class="p">[]</span>
        <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">npar</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">diff_in</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">npar</span><span class="p">[</span><span class="n">l</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">npar</span><span class="p">[</span><span class="n">l</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">npar</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">c</span><span class="o">=</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="n">j</span><span class="p">)</span><span class="o">*</span><span class="n">k</span>
                <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">npar</span><span class="p">[</span><span class="n">p</span><span class="o">+</span><span class="n">c</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">hm</span><span class="p">)</span><span class="o">&lt;</span><span class="nb">abs</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">diff_in</span><span class="p">)):</span>
                    <span class="n">hm_i</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="o">+</span><span class="n">c</span><span class="p">)</span>
                    <span class="k">break</span>
        <span class="n">fwhm</span><span class="o">=</span><span class="n">npar</span><span class="p">[</span><span class="n">hm_i</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">npar</span><span class="p">[</span><span class="n">hm_i</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">fwhm</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The which argument not valid&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span></div>







<div class="viewcode-block" id="aerospace2">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.aerospace2">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">aerospace2</span> <span class="p">(</span><span class="n">CSV</span><span class="p">,</span><span class="n">which</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    this function has the ability to convert your datas into </span>
<span class="sd">    answers that you need </span>
<span class="sd">    your datas should be in Newton and M**2 format </span>
<span class="sd">    in this program we will be using presure as the output data </span>
<span class="sd">    if you want to make a sketch Use === Plot</span>
<span class="sd">    if you want to check the max_presure use === MaxPer</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">mydf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">CSV</span><span class="p">)</span>
    <span class="n">mydff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">mydf</span><span class="p">)</span>
    <span class="n">mydf1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">mydff</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Newton&#39;</span><span class="p">,</span><span class="s1">&#39;Area&#39;</span><span class="p">])</span>
    <span class="n">mydf2</span> <span class="o">=</span> <span class="n">mydf1</span><span class="p">[</span><span class="s1">&#39;Newton&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">mydf1</span><span class="p">[</span><span class="s1">&#39;Area&#39;</span><span class="p">]</span>
    <span class="n">mydf3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">mydf1</span><span class="p">,</span><span class="n">mydf2</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">which</span> <span class="o">==</span> <span class="s1">&#39;Plot&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">mydf1</span><span class="p">[</span><span class="s1">&#39;Newton&#39;</span><span class="p">],</span><span class="n">mydf1</span><span class="p">[</span><span class="s1">&#39;Area&#39;</span><span class="p">])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Area&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Newton&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">which</span> <span class="o">==</span> <span class="s1">&#39;MaxPer&#39;</span><span class="p">:</span>
        <span class="n">max_p</span> <span class="o">=</span> <span class="n">mydf3</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">max_p</span></div>

        






    
    
    

<div class="viewcode-block" id="Gradient_descent">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Gradient_descent">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Gradient_descent</span><span class="p">(</span><span class="n">dataset</span> <span class="p">,</span> <span class="n">which</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.001</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    </span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    dataset : str</span>
<span class="sd">        path of your data set .</span>
<span class="sd">    which : str</span>
<span class="sd">        plot or cost(calculuates how much error is there in the prediction).</span>
<span class="sd">    alpha : float, optional</span>
<span class="sd">        the learning rate(the size of the baby step that we will take for each of the variables). The default is 0.001.</span>


<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">data</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
    <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span>
   
    
    <span class="k">if</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">rename_dict</span><span class="o">=</span><span class="p">{</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="s1">&#39;y&#39;</span><span class="p">}</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">rename_dict</span><span class="p">)</span>
        <span class="n">x</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>
        <span class="n">y</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
   
    
   
    <span class="k">if</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;cost&#39;</span><span class="p">:</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">cost_function</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">p</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
<span class="w">            </span>
<span class="w">            </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">          The linear equation for a line:  y=p*x+c</span>

<span class="sd">            Parameters</span>
<span class="sd">            ----------</span>
<span class="sd">            l : int</span>
<span class="sd">                is the number of records.</span>
<span class="sd">         x,y,p,c: int</span>
<span class="sd">         </span>
<span class="sd">           Returns</span>
<span class="sd">           -------</span>
<span class="sd">         finds the square of the difference..</span>
<span class="sd">            &#39;&#39;&#39;</span>
            <span class="k">return</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">l</span> <span class="o">*</span> <span class="nb">sum</span><span class="p">([(</span><span class="n">c</span> <span class="o">+</span> <span class="n">p</span><span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span> <span class="o">-</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">l</span><span class="p">)])</span>
      
        
      
        
      
        <span class="n">c</span><span class="o">=</span><span class="mi">0</span>
        <span class="n">l</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">p</span><span class="o">=</span><span class="mi">1</span>
        <span class="n">oldcost</span><span class="o">=</span><span class="mi">0</span>
<span class="c1">#oldcost is a variable that we will use to save the cost (error) in the last iteration so that we can compare with the current iteration. </span>
        <span class="n">newcost</span><span class="o">=</span><span class="mi">0</span>
        <span class="n">gr0</span><span class="o">=</span><span class="mi">0</span>
<span class="c1">#the amount by which we will change the &#39;c&#39; variable        </span>
        <span class="n">gr1</span><span class="o">=</span><span class="mi">0</span>
<span class="c1">#the amount by which we will change the &#39;x&#39; variable      </span>
        <span class="n">rename_dict</span><span class="o">=</span><span class="p">{</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="s1">&#39;y&#39;</span><span class="p">}</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">rename_dict</span><span class="p">)</span>
        <span class="n">x</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span>
        <span class="n">y</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100000000000</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
<span class="c1"># this &#39;for loop&#39; essentially finds the average value by which we will change the gradients.                    </span>
                <span class="n">gr0</span><span class="o">=</span><span class="n">gr0</span><span class="o">+</span><span class="p">((</span><span class="n">c</span> <span class="o">+</span> <span class="n">p</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">-</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">gr1</span><span class="o">=</span><span class="n">gr1</span><span class="o">+</span><span class="p">(((</span><span class="n">c</span><span class="o">+</span><span class="n">p</span><span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">-</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">gr0</span> <span class="o">=</span> <span class="n">gr0</span><span class="o">/</span><span class="n">l</span>
                <span class="n">gr1</span> <span class="o">=</span> <span class="n">gr1</span><span class="o">/</span><span class="n">l</span>
<span class="c1"># changing the value of &#39;p&#39; and &#39;c&#39; to see how it impacts to our cost(error)</span>
                <span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="o">-</span><span class="n">alpha</span><span class="o">*</span><span class="n">gr0</span>
                <span class="n">p</span><span class="o">=</span><span class="n">p</span><span class="o">-</span><span class="n">alpha</span><span class="o">*</span><span class="n">gr1</span> 
              
              
                <span class="n">newcost</span><span class="o">=</span><span class="n">cost_function</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">c</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> 
<span class="c1">#If the change in cost (error), is less than particular number(here we use 0.001).it has probably reduce the cost(error) as much as it can.</span>
                <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">oldcost</span><span class="o">-</span><span class="n">newcost</span><span class="p">)</span><span class="o">&lt;</span><span class="mf">0.001</span><span class="p">:</span>
                   
                   <span class="k">return</span> <span class="n">newcost</span>
                   <span class="k">break</span>
                <span class="k">else</span><span class="p">:</span>
                   <span class="n">oldcost</span><span class="o">=</span><span class="n">newcost</span></div>

                   
                   
   
                    
    
    
    
   
<div class="viewcode-block" id="Energie2">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Energie2">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Energie2</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span><span class="n">which</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This is a function to drawing a plot or to calculating </span>
<span class="sd">    the amount of Energie of a Motor to (open/close) a Valve in a cycle, which takes 2.7 secound to open and to close.</span>
<span class="sd">    </span>
<span class="sd">    ----------</span>
<span class="sd">    input_file : .xlsx format</span>
<span class="sd">        the file must be inserted in xlsx.</span>
<span class="sd">    which : int</span>
<span class="sd">        1 : Drawing a Plot</span>
<span class="sd">        2 : Calculate the Consupmtion Energie in [mWs]</span>
<span class="sd">        please say which work we do ( 1 or 2).</span>

<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">input_file</span> <span class="o">=</span> <span class="s1">&#39;C:</span><span class="se">\\</span><span class="s1">Users</span><span class="se">\\</span><span class="s1">Fust</span><span class="se">\\</span><span class="s1">Desktop</span><span class="se">\\</span><span class="s1">Book1.xlsx&#39;</span> 
    
    <span class="n">mydf</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>
    
    
    <span class="k">if</span> <span class="n">which</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="c1">#get the data on each columns</span>
        
        <span class="n">A</span><span class="o">=</span><span class="n">mydf</span><span class="p">[</span><span class="s1">&#39;Angle[°]&#39;</span><span class="p">]</span>
        
        <span class="n">Energie</span> <span class="o">=</span><span class="n">mydf</span><span class="p">[</span><span class="s1">&#39;Energie&#39;</span><span class="p">]</span>
       
        <span class="c1">#plotting data</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">Energie</span><span class="p">,</span><span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;green&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Energie of OTT Motor 185000 Cycle&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Angle[°]&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Consupmtion Energie&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
    
    <span class="k">if</span> <span class="n">which</span><span class="o">==</span><span class="mi">2</span><span class="p">:</span>
        <span class="n">mydf</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">mydf</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Angle[°]&#39;</span><span class="p">,</span><span class="s1">&#39;Power[mW]&#39;</span><span class="p">,</span><span class="s1">&#39;Time for a Cycle&#39;</span><span class="p">,</span><span class="s1">&#39;Energie&#39;</span><span class="p">])</span>
        
        <span class="n">summ</span> <span class="o">=</span> <span class="n">mydf</span><span class="p">[</span><span class="s1">&#39;Energie&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>                          <span class="c1"># The amount of Energie for a half Cycle of Duty in mWs</span>
       
        <span class="n">summ</span> <span class="o">=</span><span class="p">(</span> <span class="n">summ</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">1000</span>                                <span class="c1"># The amount of Consumption Energie for a Dutycycle in Ws</span>
        
        <span class="k">return</span> <span class="n">summ</span></div>

    


 

<div class="viewcode-block" id="fatigue">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.fatigue">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">fatigue</span><span class="p">(</span><span class="n">f_loc</span><span class="p">,</span><span class="n">which</span><span class="p">):</span>
    <span class="n">new_data</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">f_loc</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="n">x</span><span class="o">=</span><span class="n">new_data</span><span class="p">[</span><span class="s1">&#39;LoadCycles&#39;</span><span class="p">]</span>
        <span class="n">y</span><span class="o">=</span><span class="n">new_data</span><span class="p">[</span><span class="s1">&#39;LoadRange&#39;</span><span class="p">]</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;F-N&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;#1f77b4&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s1">&#39;o-r&#39;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;#9467bd&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;LoadCycles(n)&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;#2ca02c&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;LoadRange(KN)&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;#bcbd22&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2700</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">40</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
    <span class="k">if</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;max_LoadRange&#39;</span><span class="p">:</span>
        <span class="n">m</span><span class="o">=</span><span class="n">new_data</span><span class="p">[</span><span class="s1">&#39;LoadRange&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">m</span>
    
    <span class="k">if</span> <span class="n">which</span><span class="o">==</span><span class="s1">&#39;max_LoadCycles&#39;</span><span class="p">:</span>
        <span class="n">n</span><span class="o">=</span><span class="n">new_data</span><span class="p">[</span><span class="s1">&#39;LoadCycles&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">n</span></div>

    
   




<div class="viewcode-block" id="Signal_To_Noise_Ratio">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Signal_To_Noise_Ratio">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Signal_To_Noise_Ratio</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">application</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : DataFrame</span>
<span class="sd">        consists of your experimental data in 3 columns:</span>
<span class="sd">            1- location: the place you&#39;ve measured signal and noise</span>
<span class="sd">            2- signal strength: the power of signal in dbm</span>
<span class="sd">            3- noise power: the power of noise in dbm</span>
<span class="sd">    application : string</span>
<span class="sd">        there is 3 application available:</span>
<span class="sd">            1- plot signal: plots signal column</span>
<span class="sd">            2- plot noise: plots noise column</span>
<span class="sd">            3- plot SNR: plots the signal-to-noise ratio</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    mx : float</span>
<span class="sd">        the maximum signal-to-noise ratio in dbm</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">location</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;location&#39;</span><span class="p">])</span>
    <span class="n">signal</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Signal Strength&#39;</span><span class="p">])</span>
    <span class="n">noise</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Noise Power&#39;</span><span class="p">])</span>
    <span class="n">snr</span><span class="o">=</span><span class="n">signal</span><span class="o">-</span><span class="n">noise</span>
    
    
    <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">application</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;plot signal&#39;</span> <span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">location</span><span class="p">,</span><span class="n">signal</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;signal power in every place&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;place&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;signal power in dbm&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>       
    <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">application</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;plot noise&#39;</span> <span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">location</span><span class="p">,</span><span class="n">noise</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;noise power in every place&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;place&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;noise power in dbm&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">application</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;plot snr&#39;</span> <span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">location</span><span class="p">,</span><span class="n">snr</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;SNR in every place&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;place&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;SNR in db&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        
        
    <span class="n">mx</span><span class="o">=</span><span class="n">snr</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">mx</span></div>




<div class="viewcode-block" id="polarization_control">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.polarization_control">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">polarization_control</span><span class="p">(</span><span class="n">Data</span><span class="p">,</span><span class="n">Application</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    </span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    Data : DataFrame : The results of the polymerization of a polymer control laboratory are given </span>
<span class="sd">                       that included four columns: time, temperature, pressure, </span>
<span class="sd">                       and reaction percentage of the polymer product.</span>
<span class="sd">        DESCRIPTION.</span>
<span class="sd">    Application : float</span>
<span class="sd">        Six applications are done in this function.</span>
<span class="sd">        1) Application = &#39;temp_time&#39; : Temperature is plotted according to time. </span>
<span class="sd">        2) Application = &#39;pressure_time&#39; : Pressure is plotted according to time. </span>
<span class="sd">        3) Application = &#39;Percent_time&#39; : The percentage of reaction is plotted over time.</span>
<span class="sd">        4) Application = &#39;100% reaction&#39;: If the percentage of polymerization reaction proceed to 100, the temperature and pressure of polymerization is printed and returned.</span>
<span class="sd">        5) Application = &#39;Max_pressyre&#39;: It returns maximum pressure of process.</span>
<span class="sd">        6) Application = &#39;Max_temp&#39;: It returns maximum temperature of process.</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float</span>
<span class="sd">        It returns temperature and pressure of process according to related application.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">time</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;temp&#39;</span><span class="p">])</span>
    <span class="n">pressure</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;pessure&#39;</span><span class="p">])</span>
    <span class="n">reaction_percent</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;percent&#39;</span><span class="p">])</span>
    
    <span class="k">if</span> <span class="n">Application</span> <span class="o">==</span> <span class="s1">&#39;temp_time&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">temp</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="n">linewidth</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">)</span>
        <span class="n">xylable_font</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;serif&#39;</span><span class="p">,</span>
                <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span> <span class="p">,</span>
                <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">16</span> <span class="p">}</span>
        <span class="n">title_font</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;serif&#39;</span><span class="p">,</span>
                <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span> <span class="p">,</span>
                <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">16</span> <span class="p">}</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Temperature variation&#39;</span><span class="p">,</span><span class="n">fontdict</span> <span class="o">=</span> <span class="n">title_font</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;time(s)&#39;</span><span class="p">,</span><span class="n">fontdict</span> <span class="o">=</span> <span class="n">xylable_font</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Temperature (C)&#39;</span><span class="p">,</span><span class="n">fontdict</span> <span class="o">=</span> <span class="n">xylable_font</span><span class="p">)</span>
        <span class="c1"># plt.legend([&#39;Temperature&#39;])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">elif</span> <span class="n">Application</span> <span class="o">==</span> <span class="s1">&#39;pressure_time&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">pressure</span> <span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="n">linewidth</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">)</span>
        <span class="n">xylable_font</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;serif&#39;</span><span class="p">,</span>
                <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span> <span class="p">,</span>
                <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">16</span> <span class="p">}</span>
        <span class="n">title_font</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;serif&#39;</span><span class="p">,</span>
                <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span> <span class="p">,</span>
                <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">16</span> <span class="p">}</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Pressure variation&#39;</span><span class="p">,</span><span class="n">fontdict</span> <span class="o">=</span> <span class="n">title_font</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;time(s)&#39;</span><span class="p">,</span><span class="n">fontdict</span> <span class="o">=</span> <span class="n">xylable_font</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Pressure (Pa)&#39;</span><span class="p">,</span><span class="n">fontdict</span> <span class="o">=</span> <span class="n">xylable_font</span><span class="p">)</span>
        <span class="c1"># plt.legend([&#39;Pressure&#39;])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">elif</span> <span class="n">Application</span> <span class="o">==</span> <span class="s1">&#39;Percent_time&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">reaction_percent</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="n">linewidth</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">)</span>
        <span class="n">xylable_font</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;serif&#39;</span><span class="p">,</span>
                <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span> <span class="p">,</span>
                <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">16</span> <span class="p">}</span>
        <span class="n">title_font</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;serif&#39;</span><span class="p">,</span>
                <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;black&#39;</span> <span class="p">,</span>
                <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">16</span> <span class="p">}</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Progress variation&#39;</span><span class="p">,</span><span class="n">fontdict</span> <span class="o">=</span> <span class="n">title_font</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;time(s)&#39;</span><span class="p">,</span><span class="n">fontdict</span> <span class="o">=</span> <span class="n">xylable_font</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Reaction percent&#39;</span><span class="p">,</span><span class="n">fontdict</span> <span class="o">=</span> <span class="n">xylable_font</span><span class="p">)</span>
        <span class="c1"># plt.legend([ &#39;reaction_percent&#39;])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">elif</span> <span class="n">Application</span> <span class="o">==</span> <span class="s1">&#39;100</span><span class="si">% r</span><span class="s1">eaction&#39;</span><span class="p">:</span>    
        <span class="n">reaction_percent_p</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">301</span><span class="p">)</span><span class="o">/</span><span class="mi">3</span>
        <span class="n">L</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">reaction_percent_p</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">L</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">reaction_percent_p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">100</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tempreature and pessure for 100% progress are&#39;</span><span class="p">,</span><span class="s1">&#39;tempreature =&#39;</span><span class="p">,</span><span class="n">temp</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="s1">&#39;(C)&#39;</span><span class="p">,</span> <span class="s1">&#39;pessure=&#39;</span><span class="p">,</span> <span class="n">pressure</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="s1">&#39;(Pa)&#39;</span><span class="p">)</span>
                <span class="k">return</span>   <span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">pressure</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>     
    <span class="k">elif</span> <span class="n">Application</span> <span class="o">==</span> <span class="s1">&#39;Max_pressyre&#39;</span><span class="p">:</span>    
         <span class="k">return</span> <span class="n">pressure</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">Application</span> <span class="o">==</span> <span class="s1">&#39;Max_temp&#39;</span><span class="p">:</span>    
         <span class="k">return</span> <span class="n">temp</span><span class="o">.</span><span class="n">max</span><span class="p">()</span></div>





<div class="viewcode-block" id="Desulfurization_Rate">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Desulfurization_Rate">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Desulfurization_Rate</span><span class="p">(</span><span class="n">Data</span><span class="p">,</span><span class="n">application</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    Data : Data Frame</span>
<span class="sd">        experimental data (excel).</span>
<span class="sd">    application : </span>
<span class="sd">        1.plot</span>
<span class="sd">        2.Max_Removal_With_Ultrasonic</span>
<span class="sd">        3.Max_Removal_Without_Ultrasonic</span>

<span class="sd">    Returns</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;Time&#39;</span><span class="p">])</span>
    <span class="n">y1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;Desulfurization_With_Ultrasonic&#39;</span><span class="p">])</span>
    <span class="n">y2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;Desulfurization_Without_Ultrasonic&#39;</span><span class="p">])</span>
    
    <span class="k">if</span> <span class="n">application</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span><span class="n">mec</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="n">mfc</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="n">ms</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;With_Ultrasonic&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span><span class="n">mec</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="n">mfc</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="n">ms</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Without_Ultrasonic&#39;</span><span class="p">)</span>
        
        <span class="n">myfont</span><span class="o">=</span><span class="p">{</span> <span class="s1">&#39;family&#39;</span><span class="p">:</span> <span class="s1">&#39;serif&#39;</span>   <span class="p">,</span>
                <span class="s1">&#39;color&#39;</span><span class="p">:</span>  <span class="s1">&#39;red&#39;</span>  <span class="p">,</span>
                <span class="s1">&#39;size&#39;</span><span class="p">:</span>  <span class="mi">15</span>   <span class="p">}</span>
        
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Desulfurization&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Sulfur_Removal_Plot&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">myfont</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
    <span class="k">elif</span> <span class="n">application</span><span class="o">==</span><span class="s1">&#39;Max_Removal_With_Ultrasonic&#39;</span><span class="p">:</span>
        <span class="n">Max_Removal_With_Ultrasonic</span><span class="o">=</span><span class="n">y1</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">Max_Removal_With_Ultrasonic</span>
    
    <span class="k">elif</span> <span class="n">application</span><span class="o">==</span><span class="s1">&#39;Max_Removal_Without_Ultrasonic&#39;</span><span class="p">:</span>
        <span class="n">Max_Removal_Without_Ultrasonic</span><span class="o">=</span><span class="n">y2</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">Max_Removal_Without_Ultrasonic</span></div>








<div class="viewcode-block" id="XRD4">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.XRD4">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">XRD4</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">application</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function plots the XRD curve .</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : DataFrame</span>
<span class="sd">        data is XRD data include Intensity (a.u.) and 2θ (degree).</span>
<span class="sd">    application : str</span>
<span class="sd">        application is the function that you want to apply to your data:</span>
<span class="sd">            - plot : ُPlot the XRD curve</span>
<span class="sd">            - maxintensity : Determining the maximum intensity.</span>
<span class="sd">            - meantheta : Determining the mean of theta angles.</span>
<span class="sd">            </span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    plot, maxintensity, meantheta</span>

<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">data</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;2θ (degree)&#39;</span><span class="p">,</span><span class="s1">&#39;Intensity (a.u.)&#39;</span><span class="p">)</span>
    <span class="n">Intensity</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Intensity (a.u.)&#39;</span><span class="p">])</span>
    <span class="n">Theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;2θ (degree)&#39;</span><span class="p">])</span>
    
    <span class="k">if</span> <span class="n">application</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;PLOT&#39;</span><span class="p">:</span>
        <span class="n">font1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;Times New Roman&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">16</span><span class="p">}</span>
        <span class="n">font2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;Times New Roman&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">14</span><span class="p">}</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Theta</span><span class="p">,</span> <span class="n">Intensity</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;XRD&#39;</span><span class="p">,</span> <span class="n">fontdict</span> <span class="o">=</span> <span class="n">font1</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;2θ (degree)&#39;</span><span class="p">,</span> <span class="n">fontdict</span> <span class="o">=</span> <span class="n">font2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Intensity (a.u.)&#39;</span><span class="p">,</span> <span class="n">fontdict</span> <span class="o">=</span> <span class="n">font2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        
    <span class="k">elif</span> <span class="n">application</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;MAXINTENSITY&#39;</span><span class="p">:</span>
        <span class="n">maxintensity</span> <span class="o">=</span> <span class="n">Intensity</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">maxintensity</span>
        
    <span class="k">elif</span> <span class="n">application</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;MEANTHETA&#39;</span><span class="p">:</span>
        <span class="n">E</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">Theta</span><span class="p">:</span>
            <span class="n">theta</span> <span class="o">=</span> <span class="n">i</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="n">E</span> <span class="o">=</span> <span class="n">E</span> <span class="o">+</span> <span class="n">theta</span>        <span class="c1">#sum of numbers</span>
        <span class="n">M</span> <span class="o">=</span> <span class="n">E</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">Theta</span><span class="p">)</span>       <span class="c1">#Mean</span>
        <span class="k">return</span> <span class="n">M</span></div>

        



<div class="viewcode-block" id="Stress_Strain6">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Stress_Strain6">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Stress_Strain6</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">application</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    this function converts F and dD to Stress and Strain by thickness(1.55mm), width(3.2mm) and parallel length(35mm).</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : DataFrame</span>
<span class="sd">        this DataFrame contains F(N) and dD(mm) received from the tensil test machine.</span>
<span class="sd">    application : str</span>
<span class="sd">        application determines the expected output of Stress_Strain function.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    int, float or plot</span>
<span class="sd">        return may be elongation at break, strength or a plot.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">stress</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;F&#39;</span><span class="p">]</span><span class="o">/</span><span class="p">(</span><span class="mf">1.55</span><span class="o">*</span><span class="mf">3.2</span><span class="p">)])</span>
    <span class="n">strain</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;dD&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">35</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">application</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;ELONGATION AT BREAK&#39;</span><span class="p">:</span>
        <span class="n">elongation_at_break</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">strain</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">elongation_at_break</span><span class="p">,</span><span class="s1">&#39;%&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">elongation_at_break</span>
    <span class="k">elif</span> <span class="n">application</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;STRENGTH&#39;</span><span class="p">:</span>
        <span class="n">strength</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">stress</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">strength</span><span class="p">,</span><span class="s1">&#39;N/mm2&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">strength</span>
    <span class="k">elif</span> <span class="n">application</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;PLOT&#39;</span><span class="p">:</span>
        <span class="n">myfont_title</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;sans-serif&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">20</span><span class="p">}</span>
        <span class="n">myfont_lables</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;Tahoma&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;green&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">16</span><span class="p">}</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">strain</span><span class="p">,</span><span class="n">stress</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Stress-Strain&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">myfont_title</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Strain(%)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">myfont_lables</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Stress(N/mm2)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">myfont_lables</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

        
        




<div class="viewcode-block" id="Imerssion_Test">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Imerssion_Test">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Imerssion_Test</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">application</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    </span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : .excel .csv</span>
<span class="sd">    columns name:time, Mg, Mg_H, Mg_Pl, Mg_HPl </span>
<span class="sd">    application :</span>
<span class="sd">        plot:drawing the changes of weight(%) on time(days)</span>
<span class="sd">        More_Bioactive: the sample with more weight gain in result more bioactive</span>
<span class="sd">        Less_Bioactive: the sample with more weight loss in result less bioactive</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
    <span class="n">y1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Mg_HPl&#39;</span><span class="p">])</span>
    <span class="n">y2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Mg_H&#39;</span><span class="p">])</span>
    <span class="n">y3</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Mg_Pl&#39;</span><span class="p">])</span>
    <span class="n">y4</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;Mg&#39;</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">application</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Mg_HPl&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Mg_H&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y3</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;^&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Mg_Pl&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y4</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Mg&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;The graph of changes in the weight of the samples in the SBF solution&#39;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Imerssion Time(day)&#39;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Weight Gain(%)&#39;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">application</span><span class="o">==</span><span class="s1">&#39;More_Bioactive&#39;</span><span class="p">:</span>
        <span class="n">max_weight_gain</span><span class="o">=</span><span class="n">data</span><span class="p">[[</span><span class="s1">&#39;Mg&#39;</span><span class="p">,</span><span class="s1">&#39;Mg_H&#39;</span><span class="p">,</span><span class="s1">&#39;Mg_Pl&#39;</span><span class="p">,</span><span class="s1">&#39;Mg_HPl&#39;</span> <span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">max_weight_gainn</span><span class="o">=</span><span class="n">max_weight_gain</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">more_bioactive</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">isin</span> <span class="p">([</span><span class="n">max_weight_gainn</span><span class="p">])</span><span class="o">.</span><span class="n">any</span><span class="p">()]</span>
        <span class="k">return</span> <span class="n">more_bioactive</span>
    <span class="k">elif</span> <span class="n">application</span><span class="o">==</span><span class="s1">&#39;Less_Bioactive&#39;</span><span class="p">:</span>
        <span class="n">max_weight_loss</span><span class="o">=</span><span class="n">data</span><span class="p">[[</span><span class="s1">&#39;Mg&#39;</span><span class="p">,</span><span class="s1">&#39;Mg_H&#39;</span><span class="p">,</span><span class="s1">&#39;Mg_Pl&#39;</span><span class="p">,</span><span class="s1">&#39;Mg_HPl&#39;</span> <span class="p">]]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="n">max_weight_losss</span><span class="o">=</span><span class="n">max_weight_loss</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="n">less_bioactive</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">isin</span> <span class="p">([</span><span class="n">max_weight_losss</span><span class="p">])</span><span class="o">.</span><span class="n">any</span><span class="p">()]</span>
        <span class="k">return</span> <span class="n">less_bioactive</span></div>





<div class="viewcode-block" id="Conversion">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Conversion">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Conversion</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">app</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This program is related to a chemical reaction laboratory, which has been measured in a table at a certain temperature,</span>
<span class="sd">    pressure and time, with a one-second interval,and gives you the highest conversion percentage at a given temperature and pressure.</span>
<span class="sd">    It also draws graphs of conversion percentage, temperature and pressure in terms of time.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : DataFrame of pandas or array of numpy</span>
<span class="sd">        please be careful about the inputs: your table should contain about 100 index and 4  columns.</span>
<span class="sd">    app : str</span>
<span class="sd">       Only write &quot;PLOT_TEMP&quot; if you want to draw the figure tempreturre over time,else if you want to draw pressure on time write</span>
<span class="sd">       &#39;PLOT_pressure&#39; or write &#39;PLOT_CONVERSION&#39; if you want the conversion on time figure.</span>
<span class="sd">       or write &quot;MAXIMUM CONVERSION&quot; if you want the maximum number of conversions at a specific temperature and pressure.</span>
<span class="sd">       Otherwise, you will see the error message below.</span>
<span class="sd">   </span>
<span class="sd">    TypeError</span>
<span class="sd">       The datas or application is not entered correctly</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    index_max_conv : str</span>
<span class="sd">        this will gives you the highest convertion index.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">sotune1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
    <span class="n">sotune2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;temp&#39;</span><span class="p">])</span>
    <span class="n">sotune3</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;pressure&#39;</span><span class="p">])</span>
    <span class="n">sotune4</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;conv&#39;</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">app</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;PLOT_TEMP&#39;</span><span class="p">:</span>
       <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">sotune2</span><span class="p">,</span> <span class="n">sotune1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
       <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;temprature over time&#39;</span><span class="p">)</span>
       <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;time(second)&#39;</span><span class="p">)</span>
       <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;temprature(celsious) &#39;</span><span class="p">)</span>
       <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
       <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
     
    <span class="k">elif</span> <span class="n">app</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;PLOT_PRESSURE&#39;</span><span class="p">:</span>
       <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">sotune3</span><span class="p">,</span> <span class="n">sotune1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
       <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;pressure over time&#39;</span><span class="p">)</span>
       <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;time(second)&#39;</span><span class="p">)</span>
       <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;pressure(bar) &#39;</span><span class="p">)</span>
       <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
       <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
       
    <span class="k">elif</span> <span class="n">app</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;PLOT_CONVERSION&#39;</span><span class="p">:</span>
          <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">sotune4</span><span class="p">,</span> <span class="n">sotune1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
          <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;conversion over time&#39;</span><span class="p">)</span>
          <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;time(second)&#39;</span><span class="p">)</span>
          <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;conversion(%) &#39;</span><span class="p">)</span>
          <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
          <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">elif</span> <span class="n">app</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">==</span><span class="s1">&#39;MAXIMUM CONVERSION&#39;</span><span class="p">:</span>
        <span class="n">maxstress</span><span class="o">=</span><span class="n">sotune4</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">maxstrain</span><span class="o">=</span><span class="n">sotune2</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;maximum of tempreture is &#39;</span> <span class="p">,</span> <span class="n">maxstrain</span> <span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;maximum of conversion is &#39;</span> <span class="p">,</span> <span class="n">maxstress</span> <span class="p">)</span>
        <span class="n">index_max_conv</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">sotune4</span><span class="p">)</span> 
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The tempreture in maximum conversion is &#39;</span> <span class="p">,</span> <span class="n">sotune2</span><span class="p">[</span><span class="n">index_max_conv</span><span class="p">]</span> <span class="p">,</span>
              <span class="s1">&#39;and the preesure is &#39;</span> <span class="p">,</span><span class="n">sotune3</span><span class="p">[</span><span class="n">index_max_conv</span><span class="p">]</span>   <span class="p">)</span>
        <span class="k">return</span> <span class="n">index_max_conv</span>
    
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span> <span class="p">(</span><span class="s1">&#39;The datas or application is not entered correctly.&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">sotune1</span>
    <span class="k">return</span> <span class="n">sotune2</span>
    <span class="k">return</span> <span class="n">sotune3</span>  
    <span class="k">return</span> <span class="n">sotune4</span>        </div>






<div class="viewcode-block" id="Import_Data">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Import_Data">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Import_Data</span><span class="p">(</span><span class="n">File_Directory</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    
    
    <span class="k">if</span> <span class="n">File_Directory</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Please enter the file directory to open!&#39;</span><span class="p">)</span>
        
        
        
    <span class="k">try</span><span class="p">:</span>
        <span class="n">data</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">File_Directory</span><span class="p">)</span>
        
        
<span class="c1">#for examle --&gt;data=pd.read_csv(&#39;C:\\Users\\Parsis.Co\\Desktop\\CV.csv&#39;)</span>
         
         
<span class="c1">#1---&gt;File not find  (by &#39;FileNotFoundError&#39;)       </span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="s1">&#39;Unfortunately, the desired file &lt;&#39;</span><span class="p">,</span><span class="n">File_Directory</span><span class="p">,</span><span class="s1">&#39;&gt;is not available &#39;</span><span class="p">)</span>
        
        
        
<span class="c1">#2---&gt; File is  empty (by &#39;pd.errors.EmptyDataError&#39;)</span>
    <span class="k">except</span> <span class="n">pd</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">EmptyDataError</span><span class="p">:</span>
         <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;The file: &#39;</span><span class="p">,</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39; is empty. please a correct file.&#39;</span><span class="p">)</span>
         
   
<span class="c1">#3---&gt;Format is wrong  (by &#39;pd.errors.ParserError&#39;)     </span>
    <span class="k">except</span> <span class="n">pd</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">ParserError</span><span class="p">:</span>
             <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;The file format is not valid, please import a &lt;csv&gt; format file&#39;</span><span class="p">)</span>
             
             
 <span class="c1">#4---&gt;remove empty cells     </span>
    <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Empty cell founded and removed &#39;</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        
        
 <span class="c1">#5---&gt;turn object to numeric form for both columns    </span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="o">==</span><span class="s1">&#39;object&#39;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;object element founded in potential column and converted to numeric form&#39;</span><span class="p">)</span>
            <span class="n">data</span><span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">])</span>
            
    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="o">==</span><span class="s1">&#39;object&#39;</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;object element founded in current density column and converted to numeric&#39;</span><span class="p">)</span>
            <span class="n">data</span><span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">])</span>
            
            
 <span class="c1">#6---&gt;remove duplicated data         </span>
    <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Duolicated elemets in rows founded and removed &#39;</span><span class="p">)</span>
        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>
        
        
    <span class="k">return</span> <span class="n">data</span></div>

        
            



<div class="viewcode-block" id="CV">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.CV">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">CV</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">Application</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">is_reversible</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    </span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : DataFrame</span>
<span class="sd">        Enter your .csv format file as pd.DataFrame.</span>
<span class="sd">        Data is the potential vs. current density expoted from the potentiostate device to study electrochemical of your fabricated electrode.</span>
<span class="sd">        To use this function correctly, the potential column should named as &#39;P&#39; and your current density column should named as &#39;C&#39;</span>
<span class="sd">        </span>
<span class="sd">    Application : str</span>
<span class="sd">        Please enter the application you want to do for your data, including: plot, maxcurrent, peakpotential, charge, and Diffusion-coefficient.</span>
<span class="sd">    is_reversible : bool, optional</span>
<span class="sd">        If your reaction id reversible please enter &#39;True&#39;, and if the reaction is irreversible enter &#39;False&#39; to calculate the Diffusion coefficient for your reaction.</span>

<span class="sd">    Application=plot (type=plot)--&gt; Plot a cyclic voltammogram (current density vs. potential)</span>
<span class="sd">    Application= maxcurrent (type=float)--&gt; the function returns the peak of current that the current density id maximum.</span>
<span class="sd">    Application= peakpotential (type=float)--&gt; the function returns the potential which attributed to maxmum current or peak current.</span>
<span class="sd">    Application=charge (type=float)--&gt; The function returns the charge corresponding to the integration of the plot.</span>
<span class="sd">    Application=Diffusion_coefficient (type=float)--&gt; The function returns the value according the andles-Sevcik aquation depends on reversiblly of irreversibly of reaction.</span>
<span class="sd">    </span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">title_style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;times new roman&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">28</span><span class="p">}</span>
    <span class="n">label_style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;times new roman&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">18</span><span class="p">}</span>
    
<span class="c1">#--&gt; ensure the defined-file name (data) is in calling section</span>
    
    <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Please enter the file name and make sure you import your file as DataFrame&#39;</span><span class="p">)</span>
        
<span class="c1">#--&gt; ensure the user enter the application in calling section</span>
        
    <span class="k">if</span> <span class="n">Application</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Please enter an application for your CV data&#39;</span><span class="p">)</span>
        
    
    <span class="k">if</span> <span class="n">Application</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="n">potential</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">])</span>
        <span class="n">current_density</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">potential</span><span class="p">,</span><span class="n">current_density</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Cyclic Voltammetry&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">title_style</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Potential (V) vs. Ag/AgCl&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">label_style</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Current Density (mA/cm^2)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">label_style</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        
        
    <span class="k">elif</span> <span class="n">Application</span><span class="o">==</span><span class="s1">&#39;maxcurrent&#39;</span><span class="p">:</span>
        <span class="n">maxcurrent</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The maximum current density value is: &#39;</span><span class="p">,</span> <span class="n">maxcurrent</span><span class="p">,</span> <span class="s1">&#39;mA/cm^2&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">maxcurrent</span>
        
    
    <span class="k">elif</span> <span class="n">Application</span><span class="o">==</span><span class="s1">&#39;peakpotential&#39;</span><span class="p">:</span>
        <span class="n">maxcurrent</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">maxcurrentindex</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()</span>
        <span class="n">peakpotetial</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">maxcurrentindex</span><span class="p">,</span><span class="s1">&#39;P&#39;</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The peak potential corresponding to the maximum current is: &#39;</span><span class="p">,</span><span class="n">peakpotetial</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">peakpotetial</span>
        
    <span class="k">elif</span> <span class="n">Application</span><span class="o">==</span><span class="s1">&#39;charge&#39;</span><span class="p">:</span>
        <span class="n">potential</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;P&#39;</span><span class="p">])</span>
        <span class="n">current_density</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">])</span>
        <span class="n">charge</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">trapezoid</span><span class="p">(</span><span class="n">current_density</span><span class="p">,</span><span class="n">potential</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The charge for your CV is= &#39;</span><span class="p">,</span> <span class="n">charge</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">charge</span>
        
    
    
        
    <span class="k">elif</span> <span class="n">Application</span><span class="o">==</span><span class="s1">&#39;Diffusion_Coefficient&#39;</span><span class="p">:</span>  <span class="c1">#(Peak_Current,A,C,Scan_Rate,n,is_reversible):</span>
        <span class="n">maxcurrent</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">Area</span><span class="o">=</span><span class="mf">0.0123</span>
        <span class="n">C</span><span class="o">=</span><span class="mf">0.2</span>
        <span class="n">Scan_Rate</span><span class="o">=</span><span class="mi">50</span>
        <span class="n">n</span><span class="o">=</span><span class="mi">1</span>
        
        <span class="k">if</span> <span class="n">is_reversible</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span> <span class="p">(</span><span class="s1">&#39;Please enter &lt;True&gt; if the reaction is reversible, else enter &lt;False&gt;&#39;</span><span class="p">)</span>
            
        <span class="k">if</span> <span class="n">is_reversible</span><span class="p">:</span>
            <span class="n">Diffusion_Coefficient</span><span class="o">=</span><span class="p">(</span><span class="n">maxcurrent</span><span class="o">/</span><span class="p">((</span><span class="mf">2.65</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">5</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span><span class="o">*</span><span class="n">Area</span><span class="o">*</span><span class="n">C</span><span class="o">*</span><span class="p">(</span><span class="n">Scan_Rate</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">))))</span><span class="o">**</span><span class="mi">2</span>
            
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Diffusion_Coefficient</span><span class="o">=</span><span class="p">(</span><span class="n">maxcurrent</span><span class="o">/</span><span class="p">(</span><span class="mf">0.446</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span><span class="o">*</span><span class="n">Area</span><span class="o">*</span><span class="n">C</span><span class="o">*</span><span class="p">(</span><span class="n">Scan_Rate</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">))))</span><span class="o">**</span><span class="mi">2</span>
            
            
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The value of Diffusion coefficient for your electrochemical reaction is:&#39;</span><span class="p">,</span><span class="n">Diffusion_Coefficient</span> <span class="p">)</span>
        <span class="k">return</span> <span class="n">Diffusion_Coefficient</span></div>





<div class="viewcode-block" id="Product_Of_Vectors">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Product_Of_Vectors">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Product_Of_Vectors</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">app</span><span class="p">):</span>
<span class="w">    </span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    do bordar (two vectors) be onvane voroodi migirad, va anha ra baham zarb mikonad.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : float</span>
<span class="sd">        yek matrix ba do sotoon ast ke sotoone aval, bordar avval, va digari bordar dovvom.</span>
<span class="sd">    app : str</span>
<span class="sd">          plot agar bashe, rasm mikoneh, ertebat do bordar ro ba ham va agar</span>
<span class="sd">          calculate bood zarb dakheli bordar avval ba tranahadeh bordar dovvom</span>
<span class="sd">          ra mohasebeh mikonad.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    output : float</span>
<span class="sd">        Production of vectors.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;vector1&#39;</span><span class="p">])</span>
    <span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;vector2&#39;</span><span class="p">])</span>
    
    <span class="k">if</span> <span class="n">app</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;&lt;&#39;</span><span class="p">,</span><span class="n">ms</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">mfc</span><span class="o">=</span><span class="s1">&#39;tab:orange&#39;</span><span class="p">,</span><span class="n">mec</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;tab:blue&#39;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;nemoodar&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;vector1&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;vector2&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">app</span><span class="o">==</span><span class="s1">&#39;calculate&#39;</span><span class="p">:</span>
        <span class="n">y1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
        <span class="n">output</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">output</span></div>




<div class="viewcode-block" id="Echelon_Matrix">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Echelon_Matrix">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Echelon_Matrix</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">ap</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    یک ماتریس 90در 200 داریم که مثلا 200 مولفه را در مورد سلامت نود نفر جمع آوری کردیم</span>
<span class="sd">    و حالا میخواهیم ببینیم که کدوم یکی از این مولفه ها اضافی هستند و اطلاعات خوبی </span>
<span class="sd">    از سلامتی افراد نمیده. هدفمون اینه که ماتریس را  به صورت سطری پلکانی</span>
<span class="sd">    در آوریم یعنی بالا مثلثیش کنیم و مولفه های مهم رو پیدا کنیم. </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : float</span>
<span class="sd">        This is a matrix with more than 50 rows and columns.</span>
<span class="sd">    ap : str</span>
<span class="sd">          plot agar bashe, rasm mikoneh, ertebat sotoone 10 , 50 ro ba ham va agar</span>
<span class="sd">          up bood matrix ra be soorat satri pelekani mikonad.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    A : float</span>
<span class="sd">        This is a triangular matrix.</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span><span class="mi">10</span><span class="p">])</span>
    <span class="n">y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span><span class="mi">50</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">ap</span><span class="o">==</span><span class="s1">&#39;plot&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="n">ms</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">mec</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;tab:purple&#39;</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;nemoodare ertebat ghand khoon va vazn&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;vazn&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;ghand khoon&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">ap</span><span class="o">==</span><span class="s1">&#39;up&#39;</span><span class="p">:</span>
        <span class="n">A</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">triu</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">A</span></div>

   




<div class="viewcode-block" id="Fatigue_Test_Analysis">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Fatigue_Test_Analysis">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Fatigue_Test_Analysis</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">application</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    </span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : data is the exel file with the two columns (stress_amplitude column and number_of_cycles column)</span>
<span class="sd">    application : plot , max stress amplitude , fatigue strength , fatigue life , stress in one cycle , Sa , </span>
<span class="sd">                    fatigue limit , std stress , std cycles</span>
<span class="sd">    </span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    plot: S-N plot</span>
<span class="sd">    fatigue strength: استحکام خستگی </span>
<span class="sd">    fatigue life: عمر خستگی</span>
<span class="sd">    stress in one cycle: Basquin&#39;s equation to define B constant.The B is the value of the stress at one cycle.</span>
<span class="sd">    Sa: max stress amplitude in cycle.</span>
<span class="sd">    fatigue limit: The time of cycle that stress no change.</span>
<span class="sd">    std stress: انحراف معیار تنش‌ها</span>
<span class="sd">    std cycles: انحراف معیارا سیکل‌ها</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">stress_amplitude</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;stress_amplitude&quot;</span><span class="p">])</span>
    <span class="n">number_of_cycles</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;number_of_cycles&quot;</span><span class="p">])</span>
    
 
    <span class="k">if</span> <span class="n">application</span><span class="o">==</span><span class="s2">&quot;plot&quot;</span><span class="p">:</span>
        <span class="n">title_font</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
                 <span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;Merriweather&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">20</span>     <span class="p">}</span>
        
        <span class="n">xy_label_font</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span><span class="s2">&quot;Magenta&quot;</span><span class="p">,</span>
                 <span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;Merriweather&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">12</span>     <span class="p">}</span>
        
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">number_of_cycles</span><span class="p">,</span><span class="n">stress_amplitude</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="n">mec</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span><span class="n">mfc</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;S-N Curve&#39;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;S-N Curve (Fatigue Test)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">title_font</span><span class="p">,</span><span class="n">pad</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>  
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Number of Cycles to Failure (N)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">xy_label_font</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Stress Amplitude (MPa)&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="n">xy_label_font</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
    <span class="k">if</span> <span class="n">application</span><span class="o">==</span><span class="s1">&#39;max stress amplitude&#39;</span> <span class="p">:</span>
        <span class="n">max_stress_amplitude</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">stress_amplitude</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">max_stress_amplitude</span>
    
    <span class="k">if</span> <span class="n">application</span><span class="o">==</span><span class="s1">&#39;fatigue strength&#39;</span> <span class="p">:</span>
        <span class="n">fatigue_strengt</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">stress_amplitude</span><span class="p">)</span>   
        <span class="k">return</span> <span class="n">fatigue_strengt</span>
    
    <span class="k">if</span> <span class="n">application</span><span class="o">==</span><span class="s2">&quot;fatigue life&quot;</span> <span class="p">:</span>
        <span class="n">fatigue_life</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">number_of_cycles</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fatigue_life</span>
   
    <span class="k">if</span> <span class="n">application</span><span class="o">==</span><span class="s1">&#39;stress in one cycle&#39;</span> <span class="p">:</span>
        <span class="n">n</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">number_of_cycles</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">number_of_cycles</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">m</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">stress_amplitude</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">stress_amplitude</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">slope</span><span class="o">=</span><span class="n">n</span><span class="o">/</span><span class="n">m</span>
        <span class="n">stress_in_one_cycle</span><span class="o">=</span><span class="n">number_of_cycles</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="p">((</span><span class="n">stress_amplitude</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">**</span><span class="n">slope</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">stress_in_one_cycle</span>
    
    <span class="k">if</span> <span class="n">application</span><span class="o">==</span><span class="s1">&#39;Sa&#39;</span> <span class="p">:</span>
        <span class="n">i</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">number_of_cycles</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">Sa</span><span class="o">=</span><span class="n">stress_amplitude</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">Sa</span>
   
    <span class="k">if</span> <span class="n">application</span><span class="o">==</span><span class="s1">&#39;fatigue limit&#39;</span> <span class="p">:</span>
        <span class="n">repetative_index</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">stress_amplitude</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">:</span>
            <span class="k">if</span> <span class="n">stress_amplitude</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">stress_amplitude</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">repetative_index</span><span class="o">==</span><span class="kc">None</span> <span class="p">:</span>
                <span class="n">repetative_index</span><span class="o">=</span><span class="n">i</span>
            <span class="k">elif</span> <span class="n">stress_amplitude</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="n">stress_amplitude</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span>
                <span class="n">repetative_index</span><span class="o">=</span><span class="kc">None</span>
        <span class="n">fatigue_limit</span><span class="o">=</span><span class="n">number_of_cycles</span><span class="p">[</span><span class="n">repetative_index</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">fatigue_limit</span>                
        
    <span class="k">if</span> <span class="n">application</span><span class="o">==</span><span class="s1">&#39;std stress&#39;</span> <span class="p">:</span>
        <span class="n">std_stress</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">stress_amplitude</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">std_stress</span>
     
    <span class="k">if</span> <span class="n">application</span><span class="o">==</span><span class="s1">&#39;std cycles&#39;</span> <span class="p">:</span>
        <span class="n">std_cycles</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">number_of_cycles</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">std_cycles</span></div>

    




<div class="viewcode-block" id="Price_BTC">
<a class="viewcode-back" href="../../data_analysis.html#PyGamLab.Data_Analysis.Price_BTC">[docs]</a>
<span class="k">def</span><span class="w"> </span><span class="nf">Price_BTC</span><span class="p">(</span><span class="n">Data</span><span class="p">,</span><span class="n">application</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    Data : int</span>
<span class="sd">        This function needs an excel with two columns (Price and Date)</span>
<span class="sd">    application : str</span>
<span class="sd">        These are some ways you can use this function  :</span>
<span class="sd">            plot</span>
<span class="sd">            Max_Price</span>
<span class="sd">            Max_Date</span>
<span class="sd">            Min_Price</span>
<span class="sd">            Min_Price</span>
<span class="sd">            </span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Plot and int</span>
<span class="sd">        plot of price per date</span>
<span class="sd">        Date of Maximum and minimum Price</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">Price</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;Price&#39;</span><span class="p">])</span>
    <span class="n">Date</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">])</span>
    <span class="n">APP</span> <span class="o">=</span> <span class="n">application</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
    
    <span class="k">if</span> <span class="n">APP</span> <span class="o">==</span> <span class="s1">&#39;PLOT&#39;</span> <span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Date</span><span class="p">,</span><span class="n">Price</span><span class="p">,</span><span class="n">ms</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">mfc</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Price of BTC&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;(US)Price&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Date(AD)&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        
    <span class="k">elif</span> <span class="n">APP</span> <span class="o">==</span><span class="s1">&#39;MAX_PRICE&#39;</span> <span class="p">:</span>
        <span class="k">return</span> <span class="n">Date</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">Price</span><span class="p">)],</span> <span class="n">Price</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    
    <span class="k">elif</span> <span class="n">APP</span> <span class="o">==</span> <span class="s1">&#39;MAX_DATE&#39;</span> <span class="p">:</span>
        <span class="k">return</span> <span class="n">Date</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">Price</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    
    <span class="k">elif</span> <span class="n">APP</span> <span class="o">==</span> <span class="s1">&#39;MIN_PRICE&#39;</span> <span class="p">:</span>
        <span class="k">return</span> <span class="n">Date</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmin</span><span class="p">(</span><span class="n">Price</span><span class="p">)]</span> <span class="p">,</span> <span class="n">Price</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
    
    <span class="k">elif</span> <span class="n">APP</span> <span class="o">==</span> <span class="s1">&#39;MIN_DATE&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Date</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">Price</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>

    







</pre></div>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=48654df3"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>